<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>html+css</title>
      <link href="/2022/03/23/html-css/"/>
      <url>/2022/03/23/html-css/</url>
      
        <content type="html"><![CDATA[<h1 id="字符实体与语义标签"><a href="#字符实体与语义标签" class="headerlink" title="字符实体与语义标签"></a>字符实体与语义标签</h1><h2 id="1-字符实体"><a href="#1-字符实体" class="headerlink" title="1. 字符实体"></a>1. 字符实体</h2><p>有些时候，在HTML中不能直接书写一些特殊符号，如：</p><ul><li>多个连续的空格（在网页中编写的多个空格默认情况会自动被浏览器解析为一个空格）</li><li>比如字母两侧的大于小于号（可能会被认为是标签并解析）</li></ul><p>如果我们需要在网页中书写这些特殊的符号，则需要使用html中的实体（转义字符）实体的语法：<code>&amp;实体的名字;</code>，如：</p><div class="table-box"><table><thead><tr><th align="left">实体名称</th><th align="left">显示结果</th><th>描述</th></tr></thead><tbody><tr><td align="left"><mark><code>&amp;nbsp;</code></mark></td><td align="left"><code></code></td><td>空格</td></tr><tr><td align="left"><mark><code>&amp;gt;</code></mark></td><td align="left">&gt;</td><td>大于号</td></tr><tr><td align="left"><mark><code>&amp;lt;</code></mark></td><td align="left">&lt;</td><td>小于号</td></tr><tr><td align="left"><mark><code>&amp;amp;</code></mark></td><td align="left">&amp;</td><td>与</td></tr><tr><td align="left"><code>&amp;copy;</code></td><td align="left">©</td><td>版权</td></tr><tr><td align="left"><code>&amp;reg;</code></td><td align="left">®</td><td>注册商标</td></tr><tr><td align="left"><code>&amp;trade;</code></td><td align="left">™</td><td>商标</td></tr><tr><td align="left"><code>&amp;times;</code></td><td align="left">×</td><td>乘号</td></tr><tr><td align="left"><code>&amp;divide;</code></td><td align="left">÷</td><td>除号</td></tr><tr><td align="left"><code>&amp;iquest;</code></td><td align="left">¿</td><td>倒问号</td></tr></tbody></table></div><p>更多的字符实体，可参考：<a href="https://www.w3school.com.cn/html/html_entities.asp">HTML 字符实体</a>、<a href="https://www.w3school.com.cn/charsets/ref_html_8859.asp">HTML ISO-8859-1 参考手册</a></p><h2 id="2-meta标签"><a href="#2-meta标签" class="headerlink" title="2. meta标签"></a>2. meta标签</h2><p>以京东网站为例，右键单击，选择<code>查看网页源代码</code></p><p><img src="/2022/03/23/html-css/855d9e0cd0c8ed56c78869e22744fc8d-164802012769325.png" alt="image-20210514225741114"></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf8<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0, maximum-scale<span class="token punctuation">=</span>1.0, user-scalable<span class="token punctuation">=</span>yes<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>京东JD.COM-专业的综合网上购物商城,销售家电、数码通讯、电脑、家居百货、服装服饰、母婴、图书、食品等数万个品牌优质商品.便捷、诚信的服务，为您提供愉悦的网上购物体验!<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Keywords<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>网上购物,网上商城,手机,笔记本,电脑,MP3,CD,VCD,DV,相机,数码,配件,手表,存储卡,京东<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre><p>meta主要用于设置网页中的一些元数据，元数据并不是给用户看的</p><ul><li>charset ：指定网页的字符集</li><li>name ：指定的数据的名称<ul><li>keywords：表示网站的关键字，可以同时指定多个关键字，关键字间使用<code>,</code>隔开</li><li>description：表示网站的描述信息  <img src="/2022/03/23/html-css/3730201c7f36c90a23f8683d8e8b1cc4-164802012769327.png" alt="image-20210514230338273"></li></ul></li><li>content ：指定的数据的内容，会作为搜索结果的超链接上的文字显示</li></ul><p>打开Zeal手册（前端开发准备中做过介绍）</p><p><img src="/2022/03/23/html-css/69244610084684cb6f8d3fc544a7dd03-164802016670429.png" alt="image-20210514230900103"></p><p>发现除了<code>charset</code>、<code>name</code>、<code>content</code>之外，还有一个叫<code>http-equiv</code>的属性</p><pre class=" language-html"><code class="language-html">If the http-equiv attribute is set, the <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span><span class="token punctuation">></span></span> element is a pragma directive, providing information equivalent to what can be given by a similarly-named HTTP header.</code></pre><p>如果设置了<code>http-equiv</code>属性，<code>&lt;meta&gt;</code>元素就是一个pragma指令，提供的信息相当于一个类似名称的HTTP头所能提供的信息。</p><p>点击<code>http-equiv</code>的链接，查看其更详细信息。</p><p><img src="/2022/03/23/html-css/03688356f8a9847bfe15f80fe5405bd0-164802016670431.png" alt="image-20210514231126506"></p><ul><li><code>content-security-policy</code>：允许页面作者为当前页面定义一个内容策略。内容策略主要指定允许的服务器来源和脚本端点，这有助于防范跨站脚本攻击。</li><li><code>content-type</code>：声明文档的MIME类型和字符编码。如果指定，content属性必须有 “<code>text/html; charset=utf-8</code> “的值。这相当于一个指定了charset属性的<code>&lt;meta&gt;</code>元素，并对文档中的位置有同样的限制。注意：只能在使用<code>text/html</code>的文档中使用，不能在使用XML MIME类型的文档中使用。</li><li><code>default-style</code>：设置默认的CSS样式表集的名称。</li><li><code>x-ua-compatible</code>： 如果指定，内容属性必须有 “<code>IE=edge</code>“的值。用户代理被要求忽略这个pragma。</li><li><code>refresh</code>：该指令指定页面重新加载及重定向的方式<ul><li>直到页面应该被重新加载的秒数–只有当content属性包含一个正整数时。</li><li>直到页面重定向到另一个页面的秒数–只有当内容属性包含一个正整数，后面跟着字符串’<code>;url=</code>’，以及一个有效的URL。</li></ul></li></ul><p>其中我们直接将Examples中的示例代码加入Demo.html中</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- Redirect page after 3 seconds --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3;url<span class="token punctuation">=</span>https://www.mozilla.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>对<code>refresh</code>进行测试，发现过了3秒钟之后自动跳转到了指定的网站</p><p><img src="/2022/03/23/html-css/fbaddeed5f4a1ad02d91e063200140bf-164802016670433.gif" alt="sxx2l-rwqq5"></p><h2 id="3-语义标签"><a href="#3-语义标签" class="headerlink" title="3. 语义标签"></a>3. 语义标签</h2><p>在网页中HTML专门用来负责网页的结构所以在使用html标签时，应该关注的是标签的语义，而不是它的样式</p><p>这里先介绍几个基本的语义标签，还有些常用的标签放在后面具体讲解</p><div class="table-box"><table><thead><tr><th></th><th align="left">标签</th><th align="left">作用</th><th>描述</th></tr></thead><tbody><tr><td>块元素<br>Block Element</td><td align="left"><mark><code>&lt;h1&gt;</code></mark><br><mark><code>&lt;h2&gt;</code></mark><br><mark><code>&lt;h3&gt;</code></mark><br><mark><code>&lt;h4&gt;</code></mark><br><mark><code>&lt;h5&gt;</code></mark><br><mark><code>&lt;h6&gt;</code></mark></td><td align="left">标题</td><td>一共有六级标题<br>从<code>h1</code> ~ <code>h6</code>重要性递减，<code>h1</code>最重要，<code>h6</code>最不重要<br>h1在网页中的重要性仅次于<code>title</code>标签<br>一般情况下一个页面中只会有一个<code>h1</code><br>一般情况下标题标签只会使用到<code>h1</code> ～ <code>h3</code>，<code>h4</code> ～ <code>h6</code>很少用</td></tr><tr><td></td><td align="left"><code>&lt;hgroup&gt;</code></td><td align="left">标题组</td><td>多层次的标题。它将一组<code>&lt;h1&gt;</code> ～ <code>&lt;h6&gt;</code>元素分组</td></tr><tr><td></td><td align="left"><mark><code>&lt;p&gt;</code></mark></td><td align="left">段落</td><td>页面中的一个段落。由空行或第一行缩进将相邻的文本块分开</td></tr><tr><td></td><td align="left"><code>&lt;blockquote&gt;</code></td><td align="left">短引文</td><td>用缩进表示所包含文本。<br>可以用<code>cite</code>属性表示引文来源，用<code>&lt;cite&gt;</code>元素表示来源的文本表述</td></tr><tr><td>行内元素<br>Inline Element</td><td align="left"><code>&lt;q&gt;</code></td><td align="left">长引文</td><td>用一个简短的内联引号包围文本。<br>大多数浏览器通过在文本周围加上引号来实现。<br>该元素用于不需要段落分隔的短引文；</td></tr><tr><td></td><td align="left"><mark><code>&lt;br&gt;</code></mark></td><td align="left">换行</td><td></td></tr><tr><td></td><td align="left"><code>&lt;em&gt;</code></td><td align="left">强调</td><td>表示强调作用。<code>&lt;em&gt;</code>元素可以嵌套，每一级嵌套表示更高的强调程度<br><mark><code>&lt;i&gt;</code></mark>元素效果与它相同，不过<code>&lt;i&gt;</code>不属于语义标签</td></tr><tr><td></td><td align="left"><code>&lt;strong&gt;</code></td><td align="left">重要</td><td>表示重要性、严肃性或紧迫性。浏览器通常以粗体字呈现内容<br><mark><code>&lt;b&gt;</code></mark>元素效果与它相同，不过<code>&lt;b&gt;</code>不属于语义标签</td></tr></tbody></table></div><p><strong>举例</strong></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Beetles<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>External morphology<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Head<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>Mouthparts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Thorax<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>Prothorax<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>Pterothorax<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span></code></pre><p><strong>效果</strong></p><img src="/2022/03/23/html-css/f1b33334fe6d180469fa616c3c083196-164802021842135.png" alt="image-20210515212349676" style="zoom:50%;"><p>HTML5 提供的新语义元素有</p><table><thead><tr><th align="left">标签</th><th align="left">作用</th><th>描述</th></tr></thead><tbody><tr><td align="left"><mark><code>&lt;header&gt;</code></mark></td><td align="left">页眉</td><td>介绍性的内容</td></tr><tr><td align="left"><mark><code>&lt;footer&gt;</code></mark></td><td align="left">页脚</td><td>通常包含有关作者的信息、版权或文件链接</td></tr><tr><td align="left"><mark><code>&lt;nav&gt;</code></mark></td><td align="left">导航链接</td><td>可以是当前文档内的，也可以是到其他文档的。常见例子是菜单、目录和索引</td></tr><tr><td align="left"><mark><code>&lt;main&gt;</code></mark></td><td align="left">文档主内容</td><td>中心主题直接相关或扩展的内容</td></tr><tr><td align="left"><code>&lt;article&gt;</code></td><td align="left">文章</td><td>自成一体，独立分发，可重复使用</td></tr><tr><td align="left"><code>&lt;section&gt;</code></td><td align="left">文档中的节</td><td>没有一个更具体的语义元素来代表</td></tr><tr><td align="left"><mark><code>&lt;aside&gt;</code></mark></td><td align="left">页面内容以外的内容</td><td>其内容与文档的主要内容只有间接的关系。经常以边栏或呼出框的形式出现</td></tr><tr><td align="left"><mark><code>&lt;mark&gt;</code></mark></td><td align="left">重要或强调的文本</td><td>为参考或记事目的而被标记或突出的文本，表明其相关性和重要性</td></tr><tr><td align="left"><code>&lt;summary&gt;</code></td><td align="left"><code>&lt;details&gt;</code> 标题</td><td>为<code>&lt;details&gt;</code>指定一个摘要、标题或图例。点击<code>&lt;summary&gt;</code>可以切换<code>&lt;details&gt;</code>打开和关闭</td></tr><tr><td align="left"><code>&lt;details&gt;</code></td><td align="left">用户能够查看或隐藏的额外细节</td><td>其中的信息只有被切换到 "打开 "状态时才可见。必须使用<code>&lt;summary&gt;</code>提供一个摘要或标签</td></tr><tr><td align="left"><code>&lt;figure&gt;</code></td><td align="left">自包含内容</td><td>独立的内容，用<code>&lt;figcaption&gt;</code>元素指定一个可选的标题。比如图示、图表、照片、代码清单等</td></tr><tr><td align="left"><code>&lt;figcaption&gt;</code></td><td align="left"><code>&lt;figure&gt;</code> 的标题</td><td>描述其父元素    <figure>     其余内容的标题或图例    </figure></td></tr><tr><td align="left"><code>&lt;time&gt;</code></td><td align="left">定义日期/时间</td><td>可能包括<code>datetime</code>属性，将日期翻译成机器可读的格式，以便获得更好的搜索引擎结果或自定义功能。如提醒</td></tr></tbody></table><p>这些新语义标签在视觉效果上基本上没有什么区别</p><h2 id="4-块元素与行内元素"><a href="#4-块元素与行内元素" class="headerlink" title="4. 块元素与行内元素"></a>4. 块元素与行内元素</h2><h3 id="块元素（block-element）"><a href="#块元素（block-element）" class="headerlink" title="块元素（block element）"></a>块元素（block element）</h3><ul><li>在网页中一般通过块元素来对页面进行布局</li></ul><h3 id="行内元素（inline-element）"><a href="#行内元素（inline-element）" class="headerlink" title="行内元素（inline element）"></a>行内元素（inline element）</h3><ul><li>行内元素主要用来包裹文字</li><li>一般情况下会在块元素中放行内元素，而不会在行内元素中放块元素<ul><li>如<code>&lt;p&gt;</code>元素中不能放任何的块元素，不过</li></ul></li></ul><h2 id="5-内容修正"><a href="#5-内容修正" class="headerlink" title="5. 内容修正"></a>5. 内容修正</h2><p>浏览器在解析网页时，会自动对网页中不符合规范的内容进行修正，比如：</p><ul><li>标签写在了根元素的外部</li><li><code>&lt;p&gt;</code>元素中嵌套了块元素</li><li>根元素中出现了除<code>head</code>和<code>body</code>以外的子元素</li></ul><p>这个通过浏览器中的<code>查看网页源代码</code>并不能看到效果，但是使用F12进行<code>开发者调试</code>时是能够看到上述几种情况被修正的结果。</p><p>不过虽然浏览器能够对不规范的页面内容进行修正，还是不建议编写不规范的代码，因为这对后期代码维护或团队代码协作将是非常不好的后果和体验。</p><h2 id="6-布局标签"><a href="#6-布局标签" class="headerlink" title="6. 布局标签"></a>6. 布局标签</h2><p><strong>结构化语义标签</strong></p><ul><li><code>header</code>表示网页的头部（页眉）</li><li><code>main</code>表示网页的主体部分（一个页面中只会有一个main）</li><li><code>footer</code>表示网页的底部（页脚）</li><li><code>nav</code>表示网页中的导航</li><li><code>aside</code>和主体相关的其他内容（侧边栏）</li><li><code>article</code>表示一个独立的文章</li><li><code>section</code>表示一个独立的区块，上边的标签都不能表示时使用section</li></ul><p><img src="/2022/03/23/html-css/62350db5fc5eae4fd6366e0bbb2aa645-164802027597337.png" alt="HTML5 语义元素"></p><ul><li><code>div</code> 块元素，没有任何的语义，就用来表示一个区块。目前来讲，div还是主要的布局元素</li><li><code>span</code> 行内元素，没有任何的语义，一般用于在网页中<code>选中文字</code></li></ul><h2 id="7-列表"><a href="#7-列表" class="headerlink" title="7. 列表"></a>7. 列表</h2><p>在html中可以创建列表，html列表一共有三种：</p><ul><li>有序列表，使用<code>ol</code>标签来创建有序列表，使用<code>li</code>表示列表项<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Mix flour, baking powder, sugar, and salt.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>In another bowl, mix eggs, milk, and oil.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Stir both mixtures together.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Fill muffin tray 3/4 full.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Bake for 20 minutes.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span></code></pre>  <img src="/2022/03/23/html-css/915dad2f463cb462375242c8d04768ca-164802027597339.png" alt="image-20210515212835770"></li><li>无序列表，使用<code>ul</code>标签来创建无序列表，使用<code>li</code>表示列表项<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Milk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Cheese        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Blue cheese                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Sweet blue cheese<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Sour blue cheese<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Feta<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre>  <img src="/2022/03/23/html-css/1e16701ac02ef44c0dca2129a0eaa417-164802027597341.png" alt="image-20210515213301387">  可以看出，列表元素之间是可以互相嵌套的</li><li>定义列表，使用<code>dl</code>标签来创建定义列表，使用<code>dt</code>表示定义的内容，使用<code>dd</code>来对内容进行解释说明<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Beast of Bodmin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span>A large feline inhabiting Bodmin Moor.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Morgawr<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span>A sea serpent.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Owlman<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span>A giant owl-like creature.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">></span></span></code></pre>  <img src="/2022/03/23/html-css/80de044f3bf4c7b61a381ff842cd2645-164802027597343.png" alt="image-20210515212936773"></li></ul><h2 id="8-超链接"><a href="#8-超链接" class="headerlink" title="8. 超链接"></a>8. 超链接</h2><p>超链接可以让我们从一个页面跳转到其他页面，或者是当前页面的其他的位置</p><p>使用<code>a</code>标签来定义超链接，<code>href</code>属性指定跳转的目标路径，值可以是一个外部网站的地址，也可以写一个内部页面的地址</p><p>超链接是也是一个行内元素，在<code>a</code>标签中可以嵌套除它自身外的任何元素</p><h3 id="外部地址"><a href="#外部地址" class="headerlink" title="外部地址"></a>外部地址</h3><ul><li>Linking to an absolute URL：链接一个绝对路径</li><li>Linking to an email address：链接一个email地址</li><li>Linking to telephone numbers：链接电话号码</li><li>Using the download attribute to save a <code>&lt;canvas&gt;</code> as a PNG：下载图片</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.baidu.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Website<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mailto:example@outlook.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tel:+123456789<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Phone<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre><p><strong>效果</strong></p><p><img src="/2022/03/23/html-css/b1b0efbb5dc40fdaca6e6ea45510846f-164802027597345.gif" alt="动画2021-5-15"></p><h3 id="内部地址"><a href="#内部地址" class="headerlink" title="内部地址"></a>内部地址</h3><p>当我们需要跳转一个服务器内部的页面时，一般我们都会使用相对路径，会以<code>./</code>或<code>../</code>开头</p><ul><li><code>./</code> 表示当前文件所在目录，可以省略不写</li><li><code>../</code>表示当前文件所在目录的上一级目录</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./test1.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../test2.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./test3/test3.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../test4/test4.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p><strong>效果</strong></p><p><img src="/2022/03/23/html-css/612bdcda740f7f6ffa49b1618c5bdfdc-164802027597347.gif" alt="动画2021-5-11"></p><h3 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h3><p><code>target</code>属性，用来指定超链接打开的位置可选值：</p><ul><li><code>_self</code>在当前页面中打开超链接，默认值</li><li><code>_blank</code>在新建页面中打开超链接</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./test1.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接1——默认<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./test1.html<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_self<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接1——当前页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./test1.html<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超链接1——新建页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></code></pre><p><img src="/2022/03/23/html-css/4cac9b988ae5b78fd1db1ab1fea2078b-164802027597349.gif" alt="动画2021-5-10"></p><h3 id="锚点跳转"><a href="#锚点跳转" class="headerlink" title="锚点跳转"></a>锚点跳转</h3><p>可以使用<code>javascript:void(0);</code>来作为<code>href</code>的属性，此时点击这个超链接什么也不会发生</p><p>可以将<code>#</code>作为超链接的路径的占位符使用。</p><p>可以直接将超链接的<code>href</code>属性设置为<code>#</code>，这样点击超链接以后页面不会发生跳转，而是转到当前页面的顶部的位置</p><p>可以跳转到页面的指定位置（锚点），只需将<code>href</code>属性设置<code>#目标元素的id属性值</code>（唯一不重复）</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 汉皇重色思倾国，御宇多年求不得。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 杨家有女初长成，养在深闺人未识。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 天生丽质难自弃，一朝选在君王侧。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Anchor1<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#Anchor2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 回眸一笑百媚生，六宫粉黛无颜色。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 春寒赐浴华清池，温泉水滑洗凝脂。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 侍儿扶起娇无力，始是新承恩泽时。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 云鬓花颜金步摇，芙蓉帐暖度春宵。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 春宵苦短日高起，从此君王不早朝。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 承欢侍宴无闲暇，春从春游夜专夜。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Anchor2<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#Anchor3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 后宫佳丽三千人，三千宠爱在一身。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 金屋妆成娇侍夜，玉楼宴罢醉和春。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 姊妹弟兄皆列土，可怜光彩生门户。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 遂令天下父母心，不重生男重生女。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 骊宫高处入青云，仙乐风飘处处闻。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 缓歌慢舞凝丝竹，尽日君王看不足。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 渔阳鼙鼓动地来，惊破霓裳羽衣曲。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 九重城阙烟尘生，千乘万骑西南行。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 翠华摇摇行复止，西出都门百余里。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 六军不发无奈何，宛转蛾眉马前死。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 花钿委地无人收，翠翘金雀玉搔头。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 君王掩面救不得，回看血泪相和流。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 黄埃散漫风萧索，云栈萦纡登剑阁。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 峨嵋山下少人行，旌旗无光日色薄。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 蜀江水碧蜀山青，圣主朝朝暮暮情。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 行宫见月伤心色，夜雨闻铃肠断声。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 天旋地转回龙驭，到此踌躇不能去。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 马嵬坡下泥土中，不见玉颜空死处。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 君臣相顾尽沾衣，东望都门信马归。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 归来池苑皆依旧，太液芙蓉未央柳。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 芙蓉如面柳如眉，对此如何不泪垂。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 春风桃李花开夜，秋雨梧桐叶落时。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 西宫南苑多秋草，落叶满阶红不扫。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 梨园弟子白发新，椒房阿监青娥老。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 夕殿萤飞思悄然，孤灯挑尽未成眠。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Anchor3<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#Anchor4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 迟迟钟鼓初长夜，耿耿星河欲曙天。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 鸳鸯瓦冷霜华重，翡翠衾寒谁与共。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 悠悠生死别经年，魂魄不曾来入梦。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 临邛道士鸿都客，能以精诚致魂魄。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 为感君王辗转思，遂教方士殷勤觅。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 排空驭气奔如电，升天入地求之遍。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 上穷碧落下黄泉，两处茫茫皆不见。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 忽闻海上有仙山，山在虚无缥渺间。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 楼阁玲珑五云起，其中绰约多仙子。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 中有一人字太真，雪肤花貌参差是。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 金阙西厢叩玉扃，转教小玉报双成。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 闻道汉家天子使，九华帐里梦魂惊。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 揽衣推枕起徘徊，珠箔银屏迤逦开。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 云鬓半偏新睡觉，花冠不整下堂来。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Anchor4<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#Anchor5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 风吹仙袂飘飖举，犹似霓裳羽衣舞。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 玉容寂寞泪阑干，梨花一枝春带雨。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 含情凝睇谢君王，一别音容两渺茫。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 昭阳殿里恩爱绝，蓬莱宫中日月长。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 回头下望人寰处，不见长安见尘雾。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 惟将旧物表深情，钿合金钗寄将去。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 钗留一股合一扇，钗擘黄金合分钿。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 但令心似金钿坚，天上人间会相见。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 临别殷勤重寄词，词中有誓两心知。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 七月七日长生殿，夜半无人私语时。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Anchor5<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#Anchor6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 在天愿作比翼鸟，在地愿为连理枝。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> 天长地久有时尽，此恨绵绵无绝期。 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- Heading to link to --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>回到顶部<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p><strong>效果</strong></p><p><img src="/2022/03/23/html-css/e522bb59afcc1c08e24081f0f8fe0304-164802027597351.gif" alt="动画2021-5-14"></p><h2 id="9-图片"><a href="#9-图片" class="headerlink" title="9. 图片"></a>9. 图片</h2><p>图片标签用于向当前页面中引入一个外部图片</p><p><code>img</code>标签是一个自结束标签，这种元素属于替换元素（块和行内元素之间，具有两种元素的特点）</p><p><strong>属性</strong></p><ul><li><code>src</code>：属性指定的是外部图片的路径（路径规则和超链接是一样的）</li><li><code>alt</code>：图片的描述，这个描述默认情况下不会显示，有些浏览器会在图片无法加载时显示，搜索引擎会根据alt中的内容来识别图片</li><li><code>width</code>：图片的宽度（单位是像素）</li><li><code>height</code> ：图片的高度（单位是像素）</li><li>宽度和高度中如果只修改了一个，则另一个会等比例缩放</li></ul><p><strong>注意</strong></p><ul><li>一般情况在pc端，不建议修改图片的大小，需要多大的图片就裁多大</li><li>但是在移动端，经常需要对图片进行缩放（大图缩小）</li></ul><p><strong>举例</strong></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://gitee.com/vectorx/ImageCloud/raw/master/img/20210513002416.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>蒂姆·伯纳斯·李爵士，万维网的发明人<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://gitee.com/vectorx/ImageCloud/raw/master/html5/20210514233853.gif<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>结构、表现、行为<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p><strong>效果</strong></p><p><img src="/2022/03/23/html-css/f5833d8d3eda58ef6dd16955604238a7-164802027597353.png" alt="image-20210515233449533"></p><h3 id="图片格式"><a href="#图片格式" class="headerlink" title="图片格式"></a>图片格式</h3><h4 id="jpeg（jpg）"><a href="#jpeg（jpg）" class="headerlink" title="jpeg（jpg）"></a>jpeg（jpg）</h4><ul><li>支持的颜色比较丰富</li><li>不支持透明效果</li><li>不支持动图</li><li>一般用来显示照片</li></ul><h4 id="gif"><a href="#gif" class="headerlink" title="gif"></a>gif</h4><ul><li>支持的颜色比较单一</li><li>支持简单透明</li><li>支持动图</li></ul><h4 id="png"><a href="#png" class="headerlink" title="png"></a>png</h4><ul><li>支持的颜色丰富</li><li>支持复杂透明</li><li>不支持动图</li><li>专为网页而生</li></ul><h4 id="webp"><a href="#webp" class="headerlink" title="webp"></a>webp</h4><ul><li>这种格式是谷歌新推出的专门用来表示网页中的图片的一种格式</li><li>具备其他图片格式的所有优点，而且文件还特别的小</li><li>缺点：兼容性不好</li></ul><h4 id="base64"><a href="#base64" class="headerlink" title="base64"></a>base64</h4><ul><li>将图片使用base64编码，这样可以将图片转换为字符，通过字符的形式来引入图片<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>data:image/png;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAxVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zda/P9qhPz/mKr9/7bC/f/Fz/7/ydL+/8HM/v+tu/3/jaH9/156/P8zV/z/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/z9h/P+gsP3/8fP+/+ru/v+Zqv3/PV/8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P9lgPz/6+/+///s7/7/Y378/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/aoT8//r6/v///v7+/+Po/v/R2f7/y9T+/9rg/v/3+f7j6P7/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/0Zm/P/w8/7/5+v+/4ab/f9AYvz/MVX8/zFV/P8xVfz/MVX8/zVY/P9kf/z/tsP9//39/vT2/v8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/sL79/87W/v8/Yfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/ZYD8//L0/v//n7D9/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/0Bh/P/6+/7v8v7/QmP8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/TWz8/3GJ/P8yVvz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/e5L8/5qr/f8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P+mtv3/XHn8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/7/L/f87Xfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/ydL++/v+/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P/Ezv79/f7/M1b8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/7G//f9HZ/z/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/kqX9/22H/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P9kf/z/pbX9/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zRX/P/v8v7s7/7/Nln8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/6Ky/f+Inf3/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/RWb8//f4/vH0/v9Kafz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/PV/8/1Jw/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/kKT9/9vh/v9DZPz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/1Fv/P/m6/7//v7+/3aO/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8zVvz/xM79/+fr/v9viPz/MVX8/zFV/P8xVfz/MVX8/zRX/P+Emf3/8/X+xc/+/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P87Xfz/ztf+///i5/7/sL79/5+w/f+ywP3/6u3+//+uvP3/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P83Wvz/sL79//7+/v//3OL+/0Vl/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/aYP8/9Pb/v//9fb+/5yu/f84W/z/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/1d0/P+Spf3/t8T9/8fR/v/Dzv7/qrn9/3uS/P88Xvz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/MVX8/zFV/P8xVfz/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA<span class="token punctuation">=</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>  图片格式的选择</li><li>图片效果一样的，选文件小的</li><li>图片效果不一样的，选图片效果好的</li><li>尽可能的兼顾和平衡图片效果和文件大小</li></ul><h2 id="10-内联格式"><a href="#10-内联格式" class="headerlink" title="10. 内联格式"></a>10. 内联格式</h2><p>内联框架<code>iframe</code>，用于向当前页面中引入一个其他页面，</p><ul><li><code>src</code>指定要引入的网页的路径</li><li><code>frameborder</code>指定内联框架的边框</li></ul><p><strong>举例</strong></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.qq.com<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>800<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span></code></pre><p><strong>效果</strong></p><p><img src="/2022/03/23/html-css/eb3a46bfa5df9d15306c7cc3b9cb81a8-164802027597355.png" alt="image-20210516001417802"></p><h2 id="11-音视频"><a href="#11-音视频" class="headerlink" title="11. 音视频"></a>11. 音视频</h2><h3 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h3><p><code>audio</code>标签用来向页面中引入一个外部的音频文件</p><p>音视频文件引入时，默认情况下不允许用户自己控制播放停止</p><p><strong>属性</strong>：</p><ul><li><code>controls</code>是否允许用户控制播放</li><li><code>autoplay</code>音频文件是否自动播放<ul><li>如果设置了<code>autoplay</code>，则音乐在打开页面时会自动播放</li><li>但是目前来讲大部分浏览器都不会自动对音乐进行播放</li></ul></li><li><code>loop</code>音乐是否循环播放</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./source/audio.mp3<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span> <span class="token attr-name">autoplay</span> <span class="token attr-name">loop</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">></span></span></code></pre><p><img src="/2022/03/23/html-css/9ef64b24a0e8cd8e43ebd8b261919ca6-164802027597359.png" alt="image-20210516002915651"></p><h3 id="source"><a href="#source" class="headerlink" title="source"></a>source</h3><p>除了通过<code>src</code>属性来指定外部文件的路径以外，还可以通过<code>&lt;source&gt;</code>元素来指定文件的路径</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span> <span class="token attr-name">autoplay</span> <span class="token attr-name">loop</span><span class="token punctuation">></span></span>    对不起，您的浏览器不支持播放音频！请升级浏览器！    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./source/audio.mp3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./source/audio.ogg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">></span></span></code></pre><p>IE11下，能够正常播放</p><p><img src="/2022/03/23/html-css/b5e863093973646c1e3bbbce16baaba0-164802027597357.png" alt="image-20210516004453236"></p><p>IE8下，出现我们自定义的提示信息</p><p><img src="/2022/03/23/html-css/f11c3ab9ce3128eed193328a5256b8dc-164802027597361.png" alt="image-20210516005054543"></p><h3 id="embed"><a href="#embed" class="headerlink" title="embed"></a>embed</h3><p>IE8下不支持<code>audio</code>元素，但是可以使用 <code>&lt;embed&gt;</code> 元素在文档中的指定位置嵌入外部内容。</p><p>这个内容是由外部应用程序或其他互动内容的来源提供的，如浏览器插件。</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./source/audio.mp3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p><img src="/2022/03/23/html-css/5f54ccbb70bced3e23e549d4e2fbe2b6-164802027597363.png" alt="image-20210516005207428"></p><h3 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h3><p>使用<code>video</code>标签来向网页中引入一个视频，使用方式和<code>audio</code>基本上是一样的</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>video/webm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span></code></pre><p>IE11下，能够正常播放</p><img src="/2022/03/23/html-css/29e4c96daec4c5db577ac0a4ce5ce1b8-164802027597365.png" alt="image-20210516012905334" style="zoom:80%;"><p>IE8下，也能正常播放</p><img src="/2022/03/23/html-css/20d0e02a6af2a2497a6ccb45657f5d8d-164802027597467.png" alt="image-20210516010618514" style="zoom: 80%;"><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>通过<code>iframe</code>和<code>embed</code>的方式引入视频。以某艺为例，提供了视频链接的HTML代码和通用代码</p><img src="/2022/03/23/html-css/f2001068e8a632e4191bb7372e1eade2-164802027597469.png" alt="image-20210516011905816" style="zoom:80%;"><img src="/2022/03/23/html-css/faf8c2e1c98d340dd5140f4428316a03-164802027597471.png" alt="image-20210516011837229" style="zoom: 80%;"><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span>        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://open.iqiyi.com/developer/player_js/coopPlayerIndex.html?vid<span class="token punctuation">=</span>0c53ddd55f262c6d416afa9d1f49dc55&amp;tvId<span class="token punctuation">=</span>1008748400&amp;accessToken<span class="token punctuation">=</span>2.ef9c39d6c7f1d5b44768e38e5243157d&amp;appKey<span class="token punctuation">=</span>8c634248790d4343bcae1f66129c1010&amp;appId<span class="token punctuation">=</span>1368&amp;height<span class="token punctuation">=</span>100%&amp;width<span class="token punctuation">=</span>100%<span class="token punctuation">"</span></span>        <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span></code></pre><p>不过，<code>embed</code>需要flash的支持</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span>       <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>//player.video.iqiyi.com/0c53ddd55f262c6d416afa9d1f49dc55/0/0/v_19rrcuh1jw.swf-albumId<span class="token punctuation">=</span>1008748400-tvId<span class="token punctuation">=</span>1008748400-isPurchase<span class="token punctuation">=</span>0-cnId<span class="token punctuation">=</span>undefined<span class="token punctuation">"</span></span>       <span class="token attr-name">allowFullScreen</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">quality</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>high<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>350<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle<span class="token punctuation">"</span></span> <span class="token attr-name">allowScriptAccess</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>always<span class="token punctuation">"</span></span>       <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>application/x-shockwave-flash<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>embed</span><span class="token punctuation">></span></span></code></pre><h1 id="CSS语法与选择器"><a href="#CSS语法与选择器" class="headerlink" title="CSS语法与选择器"></a>CSS语法与选择器</h1><h2 id="1-CSS简介"><a href="#1-CSS简介" class="headerlink" title="1. CSS简介"></a>1. CSS简介</h2><h3 id="层叠样式表"><a href="#层叠样式表" class="headerlink" title="层叠样式表"></a>层叠样式表</h3><p>网页实际上是一个多层的结构，通过CSS可以分别为网页的每一个层来设置样式，而最终我们能看到只是网页的最上边一层</p><p>总之一句话，CSS用来设置网页中元素的样式</p><p>使用CSS来修改元素样式的方式大致可以分为3种</p><h3 id="内联样式（行内样式）"><a href="#内联样式（行内样式）" class="headerlink" title="内联样式（行内样式）"></a>内联样式（行内样式）</h3><p>在标签内部通过<code>style</code>属性来设置元素的样式</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">60</span>px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>内联样式（行内样式）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre><p>问题：使用内联样式，样式只能对一个标签生效。如果希望影响到多个元素，必须在每一个元素中都复制一遍；并且当样式发生变化时，我们必须要一个一个的修改，非常的不方便。（注意：开发时绝对不要使用内联样式）</p><h3 id="内部样式表"><a href="#内部样式表" class="headerlink" title="内部样式表"></a>内部样式表</h3><p>将样式编写到<code>head</code>中的<code>style</code>标签里然后通过css的选择器来选中元素并为其设置各种样式可以同时为多个标签设置样式，并且修改时只需要修改一处即可。内部样式表更加方便对样式进行复用</p><pre class=" language-css"><code class="language-css"><span class="token selector">&lt;style>p</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span>green<span class="token punctuation">;</span>     <span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">50</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span>&lt;/style></code></pre><p>问题：我们的内部样式表只能对一个网页起作用，它里边的样式不能跨页面进行复用</p><h3 id="外部样式表"><a href="#外部样式表" class="headerlink" title="外部样式表"></a>外部样式表</h3><p>可以将css样式编写到一个外部的CSS文件中，然后通过<code>link</code>标签来引入外部的CSS文件</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>外部样式表需要通过<code>link</code>标签进行引入，意味着只要想使用这些样式的网页都可以对其进行引用使样式，可以在不同页面之间进行复用</p><p>将样式编写到外部的CSS文件中，可以使用到浏览器的缓存机制，从而加快网页的加载速度，提高用户的体验。</p><h2 id="2-CSS基本语法"><a href="#2-CSS基本语法" class="headerlink" title="2. CSS基本语法"></a>2. CSS基本语法</h2><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><h4 id="css中的注释"><a href="#css中的注释" class="headerlink" title="css中的注释"></a>css中的注释</h4><p>只能使用<code>/*</code>和<code>*/</code>包裹。即不管是单行注释，还是多行注释，都是以<code>/*</code>开头，以<code>*/</code>结尾</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* css中的单行注释 */</span><span class="token comment" spellcheck="true">/* css中的多行注释css中的多行注释css中的多行注释*/</span></code></pre><p>我们对比下其他几种前端语言的注释</p><h4 id="html中的注释"><a href="#html中的注释" class="headerlink" title="html中的注释"></a>html中的注释</h4><p>只能使用<code>&lt;!--</code>和<code>--&gt;</code>包裹。即不管是单行注释，还是多行注释，都是以<code>&lt;!--</code>开头，以<code>--&gt;</code>结尾</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- html中的单行注释 --></span><span class="token comment" spellcheck="true">&lt;!-- html中的多行注释html中的多行注释html中的多行注释--></span></code></pre><h4 id="JS-JavaScript-和JQuery中的注释"><a href="#JS-JavaScript-和JQuery中的注释" class="headerlink" title="JS(JavaScript)和JQuery中的注释"></a>JS(JavaScript)和JQuery中的注释</h4><p>单行注释使用<code>//</code>。多行注释使用<code>/*</code>和<code>*/</code>包裹，以<code>&lt;!--</code>开头，以<code>--&gt;</code>结尾</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/* JS(JavaScript)和JQuery中的单行注释*/</span><span class="token comment" spellcheck="true">/*JS(JavaScript)和JQuery中的多行注释JS(JavaScript)和JQuery中的多行注释JS(JavaScript)和JQuery中的多行注释*/</span></code></pre><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p><code>选择器 声明块</code></p><h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4><p>通过选择器可以选中页面中的指定元素</p><ul><li>比如<code>p</code>的作用就是选中页面中所有的<code>p</code>元素声明块</li></ul><h4 id="声明块"><a href="#声明块" class="headerlink" title="声明块"></a>声明块</h4><p>通过声明块来指定要为元素设置的样式</p><ul><li>声明块由一个一个的声明组成，声明是一个名值对结构</li><li>一个样式名对应一个样式值，名和值之间以<code>:</code>连接，以<code>;</code>结尾</li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">h1</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="3-CSS选择器"><a href="#3-CSS选择器" class="headerlink" title="3. CSS选择器"></a>3. CSS选择器</h2><h3 id="通配选择器（Universal-selector）"><a href="#通配选择器（Universal-selector）" class="headerlink" title="通配选择器（Universal selector）"></a>通配选择器（Universal selector）</h3><ul><li>作用：选中页面中的所有元素</li><li>语法：<code>*</code></li><li>例子：<code>*{}</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">*</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="元素选择器（Type-selector）"><a href="#元素选择器（Type-selector）" class="headerlink" title="元素选择器（Type selector）"></a>元素选择器（Type selector）</h3><p>也叫类型选择器、标签选择器</p><ul><li>作用：根据标签名来选中指定的元素</li><li>语法：<code>elementname{}</code></li><li>例子：<code>p{}</code> <code>h1{}</code> <code>div{}</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">p</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector">h1</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="类选择器（Class-selector）"><a href="#类选择器（Class-selector）" class="headerlink" title="类选择器（Class selector）"></a>类选择器（Class selector）</h3><ul><li>作用：根据元素的class属性值选中一组元素</li><li>语法：<code>.classname</code></li><li>例子：<code>.blue{}</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.blue</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.size</span></span><span class="token punctuation">{</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><code>class</code>是一个标签的属性，它和<code>id</code>类似，不同的是<code>class</code></p><ul><li>可以重复使用，</li><li>可以通过<code>class</code>属性来为元素分组，</li><li>可以同时为一个元素指定多个<code>class</code>属性</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue size<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 类选择器（Class selector）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre><h3 id="ID选择器（ID-selector）"><a href="#ID选择器（ID-selector）" class="headerlink" title="ID选择器（ID selector）"></a>ID选择器（ID selector）</h3><ul><li>作用：根据元素的<code>id</code>属性值选中一个元素</li><li>语法：<code>#idname{}</code></li><li>例子：<code>#box{}</code> <code>#red{}</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token id">#red</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="属性选择器（Attribute-selector）"><a href="#属性选择器（Attribute-selector）" class="headerlink" title="属性选择器（Attribute selector）"></a>属性选择器（Attribute selector）</h3><ul><li>作用：根据元素的属性值选中一组元素</li><li>语法1：<code>[属性名]</code> 选择含有指定属性的元素</li><li>语法2：<code>[属性名=属性值]</code> 选择含有指定属性和属性值的元素</li><li>语法3：<code>[属性名^=属性值]</code> 选择属性值以指定值开头的元素</li><li>语法4：<code>[属性名$=属性值]</code> 选择属性值以指定值结尾的元素</li><li>语法5：<code>[属性名*=属性值]</code> 选择属性值中含有某值的元素</li><li>例子：<code>p[title]{}</code> <code>p[title=e]{}</code> <code>p[title^=e]{}</code> <code>p[title$=e]{}</code> <code>p[title*=e]{}</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">p<span class="token attribute">[title]</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">p<span class="token attribute">[title=e]</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">p<span class="token attribute">[title^=e]</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">p<span class="token attribute">[title$=e]</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">p<span class="token attribute">[title*=e]</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="4-复合选择器"><a href="#4-复合选择器" class="headerlink" title="4. 复合选择器"></a>4. 复合选择器</h2><h3 id="交集选择器"><a href="#交集选择器" class="headerlink" title="交集选择器"></a>交集选择器</h3><ul><li>作用：选中同时复合多个条件的元素</li><li>语法：<code>选择器1选择器2选择器3选择器n{}</code></li><li>注意点：交集选择器中如果有元素选择器，必须使用元素选择器开头</li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">div<span class="token class">.red</span></span><span class="token punctuation">{</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.a.b.c</span></span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="并集选择器（选择器分组）"><a href="#并集选择器（选择器分组）" class="headerlink" title="并集选择器（选择器分组）"></a>并集选择器（选择器分组）</h3><ul><li>作用：同时选择多个选择器对应的元素</li><li>语法：<code>选择器1,选择器2,选择器3,选择器n{}</code></li><li>例子：<code>#b1,.p1,h1,span,div.red{}</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">h1,span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="5-关系选择器"><a href="#5-关系选择器" class="headerlink" title="5. 关系选择器"></a>5. 关系选择器</h2><ul><li>父元素：直接包含子元素的元素叫做父元素</li><li>子元素：直接被父元素包含的元素是子元素</li><li>祖先元素：直接或间接包含后代元素的元素叫做祖先元素；一个元素的父元素也是它的祖先元素</li><li>后代元素：直接或间接被祖先元素包含的元素叫做后代元素；子元素也是后代元素</li><li>兄弟元素：拥有相同父元素的元素是兄弟元素</li></ul><h3 id="子元素选择器（Child-combinator）"><a href="#子元素选择器（Child-combinator）" class="headerlink" title="子元素选择器（Child combinator）"></a>子元素选择器（Child combinator）</h3><ul><li>作用：选中指定父元素的指定子元素</li><li>语法：<code>父元素 &gt; 子元素</code></li><li>例子：<code>A &gt; B</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">div<span class="token class">.box</span> > p > span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="后代元素选择器（Descendant-combinator）"><a href="#后代元素选择器（Descendant-combinator）" class="headerlink" title="后代元素选择器（Descendant combinator）"></a>后代元素选择器（Descendant combinator）</h3><ul><li>作用：选中指定元素内的指定后代元素</li><li>语法：<code>祖先 后代</code></li><li>例子：<code>A B</code></li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">div span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="兄弟元素选择器（Sibling-combinator）"><a href="#兄弟元素选择器（Sibling-combinator）" class="headerlink" title="兄弟元素选择器（Sibling combinator）"></a>兄弟元素选择器（Sibling combinator）</h3><ul><li>作用：选择下一个兄弟</li><li>语法：<code>前一个 + 下一个</code> <code>前一个 + 下一组</code></li><li>例子1：<code>A1 + A2</code>（Adjacent sibling combinator）</li><li>例子2： <code>A1 ~ An</code>（General sibling combinator）</li></ul><pre class=" language-css"><code class="language-css"><span class="token selector">p + span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">p ~ span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="6-伪类选择器"><a href="#6-伪类选择器" class="headerlink" title="6. 伪类选择器"></a>6. 伪类选择器</h2><p>伪类（不存在的类，特殊的类）</p><p>伪类用来描述一个元素的特殊状态，比如：第一个子元素、被点击的元素、鼠标移入的元素.…</p><p>伪类一般情况下都是使用<code>:</code>开头</p><ul><li><code>:first-child</code> 第一个子元素</li><li><code>:last-child</code> 最后一个子元素</li><li><code>:nth-child()</code> 选中第n个子元素<ul><li>n：第n个，n的范围0到正无穷</li><li>2n或even：选中偶数位的元素</li><li>2n+1或odd：选中奇数位的元素</li></ul></li></ul><p>以上这些伪类都是根据所有的子元素进行排序的</p><ul><li><code>:first-of-type</code> 同类型中的第一个子元素</li><li><code>:last-of-type</code> 同类型中的最后一个子元素</li><li><code>:nth-of-type()</code> 选中同类型中的第n个子元素</li></ul><p>这几个伪类的功能和上述的类似，不同点是他们是在同类型元素中进行排序的</p><ul><li><code>:not()</code>否定伪类，将符合条件的元素从选择器中去除</li></ul><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* ul下所有li，黑色 */</span><span class="token selector">ul>li </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* ul下第偶数个li，黄色 */</span><span class="token selector">ul>li<span class="token pseudo-class">:nth-child(2n)</span> </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* ul下第奇数个li，绿色 */</span><span class="token selector">ul>li<span class="token pseudo-class">:nth-child(odd)</span> </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* ul下第一个li，红色 */</span><span class="token selector">ul>li<span class="token pseudo-class">:first-child</span> </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* ul下最后一个li，黄色 */</span><span class="token selector">ul>li<span class="token pseudo-class">:last-child</span> </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="/2022/03/23/html-css/3373666820269df4830e7827c7b9623b.png" alt="image-20210516162703966"></p><ul><li><code>:link</code> 未访问的链接</li><li><code>:visited</code> 已访问的链接<ul><li>由于隐私的原因，所以<code>visited</code>这个伪类只能修改链接的颜色</li></ul></li><li><code>:hover</code> 鼠标悬停的链接</li><li><code>:active</code> 鼠标点击的链接</li></ul><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* unvisited link */</span><span class="token selector">a<span class="token pseudo-class">:link</span> </span><span class="token punctuation">{</span>  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* visited link */</span><span class="token selector">a<span class="token pseudo-class">:visited</span> </span><span class="token punctuation">{</span>  <span class="token property">color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* mouse over link */</span><span class="token selector">a<span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* selected link */</span><span class="token selector">a<span class="token pseudo-class">:active</span> </span><span class="token punctuation">{</span>  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="/2022/03/23/html-css/afda6908ddd6c7e9cab45751aabbcb5c.gif" alt="动画2021-5-8"></p><h2 id="7-伪元素选择器"><a href="#7-伪元素选择器" class="headerlink" title="7. 伪元素选择器"></a>7. 伪元素选择器</h2><p>伪元素，表示页面中一些特殊的并不真实的存在的元素（特殊的位置）</p><p>伪元素使用<code>::</code>开头</p><ul><li><code>::first-letter</code> 表示第一个字母</li><li><code>::first-line</code> 表示第一行</li><li><code>::selection</code> 表示选中的内容</li><li><code>::before</code> 元素的开始</li><li><code>::after</code> 元素的最后</li><li><code>::before</code>和<code>::after</code> 必须结合<code>content</code>属性来使用</li></ul><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 段落首字母设置大小为30px */</span><span class="token selector">p<span class="token pseudo-element">::first-letter</span></span><span class="token punctuation">{</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 段落第一行设置为黄色背景 */</span><span class="token selector">p<span class="token pseudo-element">::first-line</span></span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 段落选中的部分变绿色 */</span><span class="token selector">p<span class="token pseudo-element">::selection</span></span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> green；<span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* div前加上内容 */</span><span class="token selector">div<span class="token pseudo-element">::before</span></span><span class="token punctuation">{</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'BEFORE'</span><span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* div后加上内容 */</span><span class="token selector">div<span class="token pseudo-element">::after</span></span><span class="token punctuation">{</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'AFTER'</span><span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="/2022/03/23/html-css/d00bc5df427763fc326a624449e0eec2.gif" alt="动画2021-5-7"></p><h2 id="8-CSS-Dinner游戏"><a href="#8-CSS-Dinner游戏" class="headerlink" title="8. CSS Dinner游戏"></a>8. CSS Dinner游戏</h2><p>官方地址：<a href="https://flukeout.github.io/">CSS Diner - Where we feast on CSS Selectors!</a></p><p>CSS Dinner是一个帮助初学者快速熟悉css各种选择器的网页游戏</p><h1 id="样式继承与其他概念"><a href="#样式继承与其他概念" class="headerlink" title="样式继承与其他概念"></a>样式继承与其他概念</h1><h2 id="1-继承"><a href="#1-继承" class="headerlink" title="1. 继承"></a>1. 继承</h2><p>样式的继承，我们为一个元素设置的样式，同时也会应用到它的后代元素上</p><p>继承是发生在祖先后后代之间的，继承的设计是为了方便我们的开发</p><p>利用继承，我们可以将一些通用的样式，统一设置到共同的祖先元素上。这样只需设置一次即可让所有的元素都具有该样式</p><p>注意，并不是所有的样式都会被继承：</p><ul><li>比如背景相关的，布局相关等的这些样式都不会被继承。</li></ul><p><img src="/2022/03/23/html-css/cdd0cf75799f8beb7601d93b9f5d1936.png" alt="不行啊,不努力就要回去继承万亿家产了。_家产_万亿_继承_不行_努力表情"></p><p>我们可以再Zeal手册中，搜索<code>background-color</code>属性，可以看到一个定义的表格。其中就说明了其不可被继承性</p><p><img src="/2022/03/23/html-css/c4adcec8a07acee0b92e9fefc2921716.png" alt="image-20210516175450407"></p><h2 id="2-选择器的权重"><a href="#2-选择器的权重" class="headerlink" title="2. 选择器的权重"></a>2. 选择器的权重</h2><p>当我们通过不同的选择器，选中相同的元素，并且为相同的样式设置不同的值时，此时就发生了样式的冲突。</p><p>发生样式冲突时，应用哪个样式由选择器的权重（优先级）决定选择器的权重</p><p><img src="/2022/03/23/html-css/image-20220323164634247.png" alt="image-20220323164634247"></p><p>比较优先级时，需要将所有的选择器的优先级进行相加计算，最后优先级越高，则越优先显示（分组选择器是单独计算的）</p><p>选择器的累加不会超过其最大的数量级，类选择器再高也不会超过ID选择器</p><p>如果优先级计算后相同，此时则优先使用靠下的样式</p><p>可以在某一个样式的后边添加<code>!important</code>，则此时该样式会获取到最高的优先级，甚至超过内联样式，注意：在开发中一定要慎用！</p><p><img src="/2022/03/23/html-css/8ec27f42b84e0f3b973ad77e4d581e7c.png" alt="我劝你谨慎言行弟弟"></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">    <span class="token selector"><span class="token id">#box1</span></span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">/* ID选择器 */</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token selector">div</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">/* 元素选择器 */</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.red</span></span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">/* 类选择器 */</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>    <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 内联选择器 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>选择器的权重<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> </code></pre><p><img src="/2022/03/23/html-css/858a2f406397f3cc60881a1a1ee12a1d.gif" alt="动画2021-5-4"></p><h2 id="3-长度单位"><a href="#3-长度单位" class="headerlink" title="3. 长度单位"></a>3. 长度单位</h2>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL</title>
      <link href="/2022/03/11/Mysql/"/>
      <url>/2022/03/11/Mysql/</url>
      
        <content type="html"><![CDATA[<h1 id="一、多表查询"><a href="#一、多表查询" class="headerlink" title="一、多表查询"></a>一、多表查询</h1><h2 id="1、等值链接VS非等值链接"><a href="#1、等值链接VS非等值链接" class="headerlink" title="1、等值链接VS非等值链接"></a>1、等值链接VS非等值链接</h2><p><strong>等值连接</strong></p><p><strong>结论：</strong>如果有n个表实现多表的查询，则需要至少n-1个链接条件</p><p><strong>练习：</strong>查询员工的<code>employee_id</code>,<code>last_name</code>,<code>department_name</code>,<code>city</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    emp<span class="token punctuation">.</span><span class="token punctuation">`</span>employee_id<span class="token punctuation">`</span><span class="token punctuation">,</span>    emp<span class="token punctuation">.</span><span class="token punctuation">`</span>last_name<span class="token punctuation">`</span><span class="token punctuation">,</span>    dept<span class="token punctuation">.</span><span class="token punctuation">`</span>department_name<span class="token punctuation">`</span><span class="token punctuation">,</span>    lo<span class="token punctuation">.</span><span class="token punctuation">`</span>city<span class="token punctuation">`</span> <span class="token keyword">FROM</span>    employees emp<span class="token punctuation">,</span>    departments dept<span class="token punctuation">,</span>    locations lo <span class="token keyword">WHERE</span>    emp<span class="token punctuation">.</span>department_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>department_id     <span class="token operator">AND</span> dept<span class="token punctuation">.</span>location_id <span class="token operator">=</span> lo<span class="token punctuation">.</span>location_id</code></pre><hr><p><strong>非等值连接</strong></p><p><strong>练习：</strong>查出所有员工的工资等级</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>salary<span class="token punctuation">,</span>    j<span class="token punctuation">.</span>grade_level <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">,</span>    job_grades j<span class="token keyword">WHERE</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>salary<span class="token punctuation">`</span> <span class="token operator">BETWEEN</span> j<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> j<span class="token punctuation">.</span>highest_sal</code></pre><h2 id="2、自连接VS非自连接"><a href="#2、自连接VS非自连接" class="headerlink" title="2、自连接VS非自连接"></a>2、自连接VS非自连接</h2><p><strong>练习：</strong>查询员工id，员工姓名及其管理者的id和姓名</p><p>由于管理者表和员工表都是同一个表，这里就需要自连接</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    m<span class="token punctuation">.</span>manager_id<span class="token punctuation">,</span>    m<span class="token punctuation">.</span>last_name <span class="token keyword">AS</span> manager_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span> <span class="token punctuation">,</span>employees m<span class="token keyword">WHERE</span><span class="token number">e</span><span class="token punctuation">.</span>manager_id <span class="token operator">=</span> m<span class="token punctuation">.</span>employee_id    </code></pre><h2 id="3、SQL92与99语法如何实现内连接和外连接"><a href="#3、SQL92与99语法如何实现内连接和外连接" class="headerlink" title="3、SQL92与99语法如何实现内连接和外连接"></a>3、SQL92与99语法如何实现内连接和外连接</h2><p><strong>内连接:</strong> 合并具有同一列的两个以上的表的行, <strong>结果集中不包含一个表与另一个表不匹配的行</strong></p><p><strong>外连接:</strong> 两个表在连接过程中除了返回满足连接条件的行以外<strong>还返回左（或右）表中不满足条件的行 ，这种连接称为左（或右） 外连接</strong>。没有匹配的行时, 结果表中相应的列为空(NULL)。</p><p>如果是左外连接，则连接条件中左边的表也称为 主表 ，右边的表称为 从表 。</p><p>如果是右外连接，则连接条件中右边的表也称为 主表 ，左边的表称为 从表 。</p><hr><p><strong>练习：</strong>查询所有员工的<code>last_name</code>,<code>department_name</code></p><p><strong>注意：</strong>mysql不支持SQL92语法中外连接的写法</p><img src="/2022/03/11/Mysql/image-20220312005942608.png" alt="7种SQL JOINS的实现" style="zoom: 50%;"><p><strong>练习：</strong>查询所有员工的<code>last_name</code>,<code>department_name</code>信息</p><p><strong>左外连接</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 左外连接</span><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id</code></pre><img src="/2022/03/11/Mysql/image-20220312130955927.png" alt="image-20220312130955927" style="zoom:50%;"><p>左外连接即上图的</p><img src="/2022/03/11/Mysql/image-20220312131032128.png" alt="image-20220312131032128" style="zoom: 33%;"><p>可得到没有部门的Grant的数据。</p><hr><p><strong>右外链接</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 右外链接</span><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id</code></pre><img src="/2022/03/11/Mysql/image-20220312131308023.png" alt="右外链接" style="zoom: 50%;"><img src="/2022/03/11/Mysql/image-20220312131344781.png" alt="image-20220312131344781" style="zoom:33%;"><p>得到了没有人的部门。</p><hr><p><strong>全外连接</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 右外链接</span><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">full</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id</code></pre><p><strong>MySQL不支持全外连接，只能用UNION ALL代替</strong></p><h2 id="4、UNION操作符"><a href="#4、UNION操作符" class="headerlink" title="4、UNION操作符"></a>4、UNION操作符</h2><p><strong>UNION操作符</strong></p><img src="/2022/03/11/Mysql/image-20220313105847738.png" alt="image-20220313105847738" style="zoom:50%;"><p>UNION操作符返回两个查询的结果集的并集，去除重复部分</p><p><strong>UNION ALL操作符</strong></p><img src="/2022/03/11/Mysql/image-20220313105930921.png" alt="image-20220313105930921" style="zoom:50%;"><p>UNION ALL操作符返回两个查询的结果集的并集。对于两个结果集的重复项不去重。</p><blockquote><p>注意：执行UNION ALL语句时所需要的资源比UNION语句少。如果明确知道合并数据后的结果数据不存在重复数据，或者不需要去除重复的数据，则<strong>尽量使用UNION ALL语句，以提高数据查询的效率</strong>。</p></blockquote><hr><p><strong>代码实现</strong></p><img src="/2022/03/11/Mysql/image-20220313121132577.png" alt="image-20220313121132577" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#中图：内连接 A∩B </span><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token number">e</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span> </code></pre><img src="/2022/03/11/Mysql/image-20220313121150866.png" alt="image-20220313121150866" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#左上图：左外连接 </span><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token number">e</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span> </code></pre><img src="/2022/03/11/Mysql/image-20220313121212322.png" alt="image-20220313121212322" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#右上图：右外连接 </span><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token number">e</span> <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span> </code></pre><img src="/2022/03/11/Mysql/image-20220313121225148.png" alt="image-20220313121225148" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#左中图：A - A∩B </span><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token number">e</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> </code></pre><img src="/2022/03/11/Mysql/image-20220313121239875.png" alt="image-20220313121239875" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#右中图：B-A∩B </span><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token number">e</span> <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span></code></pre><img src="/2022/03/11/Mysql/image-20220313121456598.png" alt="image-20220313121456598" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#左下图</span><span class="token keyword">SELECT</span>    employee_id<span class="token punctuation">,</span>    last_name<span class="token punctuation">,</span>    department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token keyword">WHERE</span>    <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">UNION</span> <span class="token keyword">ALL</span><span class="token comment" spellcheck="true">#没有去重操作，效率高</span><span class="token keyword">SELECT</span>    employee_id<span class="token punctuation">,</span>    last_name<span class="token punctuation">,</span>    department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span></code></pre><img src="/2022/03/11/Mysql/image-20220313121601879.png" alt="image-20220313121601879" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#右下图</span><span class="token comment" spellcheck="true">#左中图 + 右中图 A∪B- A∩B 或者 (A - A∩B) ∪ （B - A∩B）</span><span class="token keyword">SELECT</span>    employee_id<span class="token punctuation">,</span>    last_name<span class="token punctuation">,</span>    department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token keyword">WHERE</span>    <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">UNION</span> <span class="token keyword">ALL</span><span class="token keyword">SELECT</span>    employee_id<span class="token punctuation">,</span>    last_name<span class="token punctuation">,</span>    department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_</code></pre><h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 1.显示所有员工的姓名，部门号和部门名称。 </span><span class="token comment" spellcheck="true"># 2.查询90号部门员工的job_id和90号部门的location_id </span><span class="token comment" spellcheck="true"># 3.选择所有有奖金的员工的 last_name , department_name , location_id , city </span><span class="token comment" spellcheck="true"># 4.选择city在Toronto工作的员工的 last_name , job_id , department_id , department_name </span><span class="token comment" spellcheck="true"># 5.查询员工所在的部门名称、部门地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’ </span><span class="token comment" spellcheck="true"># 6.选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式 </span>employees Emp <span class="token comment" spellcheck="true"># manager Mgr# </span>kochhar <span class="token number">101</span> king <span class="token number">100</span> <span class="token comment" spellcheck="true"># 7.查询哪些部门没有员工 </span><span class="token comment" spellcheck="true"># 8. 查询哪个城市没有部门 </span><span class="token comment" spellcheck="true"># 9. 查询部门名为 Sales 或 IT 的员工信息 </span></code></pre><hr><p><strong>1.显示所有员工的姓名，部门号和部门名称。</strong> </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">,</span>    departments <span class="token number">d</span> <span class="token keyword">WHERE</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id</code></pre><hr><p><strong>2.查询90号部门员工的job_id和90号部门的location_id</strong> </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">,</span>    departments <span class="token number">d</span> <span class="token keyword">WHERE</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token operator">and</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">90</span></code></pre><p>或</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">,</span>    <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token keyword">WHERE</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">90</span></code></pre><hr><p><strong>3.选择所有有奖金的员工的 last_name , department_name , location_id , city</strong> </p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 注意：是“有奖金的员工”</span><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>location_id<span class="token punctuation">,</span>    l<span class="token punctuation">.</span>city <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id    <span class="token keyword">JOIN</span> locations l <span class="token keyword">ON</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id <span class="token keyword">WHERE</span>    <span class="token number">e</span><span class="token punctuation">.</span>commission_pct <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span></code></pre><hr><p><strong>4.选择city在Toronto工作的员工的 last_name , job_id , department_id , department_name</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id    <span class="token keyword">JOIN</span> locations l <span class="token keyword">ON</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id <span class="token keyword">WHERE</span>    l<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">'Toronto'</span></code></pre><hr><p><strong>5.查询员工所在的部门名称、部门地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’</strong> </p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 这个题可以得出结论，join on的表不需要全部和from后面的第一个表（employee）有关联</span><span class="token keyword">SELECT</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>    l<span class="token punctuation">.</span>street_address<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    j<span class="token punctuation">.</span>job_id <span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>salary<span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id    <span class="token keyword">JOIN</span> jobs j <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>job_id <span class="token operator">=</span> j<span class="token punctuation">.</span>job_id    <span class="token keyword">JOIN</span> locations l <span class="token keyword">on</span>  <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id <span class="token keyword">WHERE</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name <span class="token operator">=</span> <span class="token string">'Executive'</span></code></pre><hr><p><strong>6.选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式</strong></p><table><thead><tr><th>employees</th><th>Emp</th><th>manager</th><th>Mgr</th></tr></thead><tbody><tr><td>kochhar</td><td>101</td><td>king</td><td>100</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 6.选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式</span><span class="token keyword">SELECT</span>    <span class="token number">e1</span><span class="token punctuation">.</span>last_name <span class="token keyword">AS</span> employees<span class="token punctuation">,</span>    <span class="token number">e1</span><span class="token punctuation">.</span>employee_id <span class="token keyword">AS</span> Emp<span class="token punctuation">,</span>    <span class="token number">e2</span><span class="token punctuation">.</span>last_name <span class="token keyword">AS</span> manager<span class="token punctuation">,</span>    <span class="token number">e2</span><span class="token punctuation">.</span>employee_id <span class="token keyword">AS</span> Mgr <span class="token keyword">FROM</span>    employees <span class="token number">e1</span><span class="token punctuation">,</span>    employees <span class="token number">e2</span> <span class="token keyword">WHERE</span>    <span class="token number">e1</span><span class="token punctuation">.</span>manager_id <span class="token operator">=</span> <span class="token number">e2</span><span class="token punctuation">.</span>employee_id</code></pre><hr><p> <strong>7.查询哪些部门没有员工</strong> </p><p><img src="/2022/03/11/Mysql/image-20220314151721108.png" alt="image-20220314151721108"></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 右外连接</span><span class="token keyword">SELECT</span>    <span class="token number">d</span><span class="token punctuation">.</span>department_name<span class="token keyword">FROM</span>    employees <span class="token number">e</span>    <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token number">d</span> <span class="token keyword">ON</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span>department_id <span class="token keyword">WHERE</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">IS</span> <span class="token boolean">NULL</span></code></pre><hr><p>**8. 查询哪个城市没有部门 **</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    l<span class="token punctuation">.</span>city <span class="token keyword">FROM</span>    departments <span class="token number">d</span>    <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> locations l <span class="token keyword">on</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id<span class="token keyword">where</span> <span class="token number">d</span><span class="token punctuation">.</span>location_id <span class="token operator">is</span> <span class="token boolean">null</span></code></pre><hr><p>**9. 查询部门名为 Sales 或 IT 的员工信息 **</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    employee_id<span class="token punctuation">,</span>    last_name<span class="token punctuation">,</span>    department_name <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">,</span>    departments <span class="token number">d</span> <span class="token keyword">WHERE</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">=</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>     <span class="token operator">AND</span> <span class="token number">d</span><span class="token punctuation">.</span><span class="token punctuation">`</span>department_name<span class="token punctuation">`</span> <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token string">'Sales'</span><span class="token punctuation">,</span> <span class="token string">'IT'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><h1 id="二、单行函数"><a href="#二、单行函数" class="headerlink" title="二、单行函数"></a>二、单行函数</h1><h2 id="1、数值函数"><a href="#1、数值函数" class="headerlink" title="1、数值函数"></a>1、数值函数</h2><h3 id="1-1、基本函数"><a href="#1-1、基本函数" class="headerlink" title="1.1、基本函数"></a>1.1、基本函数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>ABS(x)</td><td>返回x的绝对值</td></tr><tr><td>SIGN(X)</td><td>返回X的符号。正数返回1，负数返回-1，0返回0</td></tr><tr><td>PI()</td><td>返回圆周率的值</td></tr><tr><td>CEIL(x)，CEILING(x)</td><td>返回大于或等于某个值的最小整数</td></tr><tr><td>FLOOR(x)</td><td>返回小于或等于某个值的最大整数</td></tr><tr><td>LEAST(e1,e2,e3…)</td><td>返回列表中的最小值</td></tr><tr><td>GREATEST(e1,e2,e3…)</td><td>返回列表中的最大值</td></tr><tr><td>MOD(x,y)</td><td>返回X除以Y后的余数</td></tr><tr><td>RAND()</td><td>返回0~1的随机值</td></tr><tr><td>RAND(x)</td><td>返回0~1的随机值，其中x的值用作种子值，相同的X值会产生相同的随机数</td></tr><tr><td>ROUND(x)</td><td>返回一个对x的值进行四舍五入后，最接近于X的整数</td></tr><tr><td>ROUND(x,y)</td><td>返回一个对x的值进行四舍五入后最接近X的值，并保留到小数点后面Y位</td></tr><tr><td>TRUNCATE(x,y)</td><td>返回数字x截断为y位小数的结果</td></tr><tr><td>SQRT(x)</td><td>返回x的平方根。当X的值为负数时，返回NULL</td></tr></tbody></table><p><strong>举例</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> ABS<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ABS<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SIGN<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SIGN<span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">,</span>PI<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CEIL<span class="token punctuation">(</span><span class="token number">32.32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CEILING<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">43.23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FLOOR<span class="token punctuation">(</span><span class="token number">32.32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FLOOR<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">43.23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>MOD<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315114903230.png" alt="image-20220315114903230"></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RAND<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RAND<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RAND<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RAND<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315135552806.png" alt="image-20220315135552806"></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">12.33</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">12.343</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">12.324</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">12.66</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">12.66</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315135614117.png" alt="image-20220315135614117"></p><h3 id="2-2、角度与弧度互换函数"><a href="#2-2、角度与弧度互换函数" class="headerlink" title="2.2、角度与弧度互换函数"></a>2.2、角度与弧度互换函数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>RADIANS(x)</td><td>将角度转化为弧度，其中，参数x为角度值</td></tr><tr><td>DEGREES(x)</td><td>将弧度转化为角度，其中，参数x为弧度值</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> RADIANS<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RADIANS<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RADIANS<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DEGREES<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>PI<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DEGREES<span class="token punctuation">(</span>RADIANS<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>    </code></pre><h3 id="2-3、三角函数"><a href="#2-3、三角函数" class="headerlink" title="2.3、三角函数"></a>2.3、三角函数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>SIN(x)</td><td>返回x的正弦值，其中，参数x为弧度值</td></tr><tr><td>ASIN(x)</td><td>返回x的反正弦值，即获取正弦为x的值。如果x的值不在-1到1之间，则返回NULL</td></tr><tr><td>COS(x)</td><td>返回x的余弦值，其中，参数x为弧度值</td></tr><tr><td>ACOS(x)</td><td>返回x的反余弦值，即获取余弦为x的值。如果x的值不在-1到1之间，则返回NULL</td></tr><tr><td>TAN(x)</td><td>返回x的正切值，其中，参数x为弧度值</td></tr><tr><td>ATAN(x)</td><td>返回x的反正切值，即返回正切值为x的值</td></tr><tr><td>ATAN2(m,n)</td><td>返回两个参数的反正切值</td></tr><tr><td>COT(x)</td><td>返回x的余切值，其中，X为弧度值</td></tr></tbody></table><p><strong>举例</strong></p><p>ATAN2(M,N)函数返回两个参数的反正切值。 与ATAN(X)函数相比，ATAN2(M,N)需要两个参数，例如有两个<br>点point(x1,y1)和point(x2,y2)，使用ATAN(X)函数计算反正切值为ATAN((y2-y1)/(x2-x1))，使用ATAN2(M,N)计<br>算反正切值则为ATAN2(y2-y1,x2-x1)。由使用方式可以看出，当x2-x1等于0时，ATAN(X)函数会报错，而<br>ATAN2(M,N)函数则仍然可以计算。<br>ATAN2(M,N)函数的使用示例如下：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>SIN<span class="token punctuation">(</span>RADIANS<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DEGREES<span class="token punctuation">(</span>ASIN<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TAN<span class="token punctuation">(</span>RADIANS<span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DEGREES<span class="token punctuation">(</span>ATAN<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DEGREES<span class="token punctuation">(</span>ATAN2<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315140113350.png" alt="image-20220315140113350"></p><h3 id="2-4、指数与对数"><a href="#2-4、指数与对数" class="headerlink" title="2.4、指数与对数"></a>2.4、指数与对数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>POW(x,y)，POWER(X,Y)</td><td>返回x的y次方</td></tr><tr><td>EXP(X)</td><td>返回e的X次方，其中e是一个常数，2.718281828459045</td></tr><tr><td>LN(X)，LOG(X)</td><td>返回以e为底的X的对数，当X &lt;= 0 时，返回的结果为NULL</td></tr><tr><td>LOG10(X)</td><td>返回以10为底的X的对数，当X &lt;= 0 时，返回的结果为NULL</td></tr><tr><td>LOG2(X)</td><td>返回以2为底的X的对数，当X &lt;= 0 时，返回NULL</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> POW<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>POWER<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>EXP<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LN<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LOG10<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LOG2<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------+------------+------------------+-------------------+-----------+---------+</span><span class="token operator">|</span> POW<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">|</span> POWER<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span> EXP<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> LN<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span> LOG10<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span> LOG2<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------+------------+------------------+-------------------+-----------+---------+</span><span class="token operator">|</span> <span class="token number">32</span> <span class="token operator">|</span> <span class="token number">16</span> <span class="token operator">|</span> <span class="token number">7.38905609893065</span> <span class="token operator">|</span> <span class="token number">2.302585092994046</span> <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------+------------+------------------+-------------------+-----------+---------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h3 id="2-5、进制间的转换"><a href="#2-5、进制间的转换" class="headerlink" title="2.5、进制间的转换"></a>2.5、进制间的转换</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>BIN(x)</td><td>返回x的二进制编码</td></tr><tr><td>HEX(x)</td><td>返回x的十六进制编码</td></tr><tr><td>OCT(x)</td><td>返回x的八进制编码</td></tr><tr><td>CONV(x,f1,f2)</td><td>返回f1进制数变成f2进制数</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> BIN<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>HEX<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>OCT<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CONV<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------+---------+---------+--------------+</span><span class="token operator">|</span> BIN<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span> HEX<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span> OCT<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span> CONV<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------+---------+---------+--------------+</span><span class="token operator">|</span> <span class="token number">1010</span> <span class="token operator">|</span> A <span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------+---------+---------+--------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h2 id="2、字符串函数"><a href="#2、字符串函数" class="headerlink" title="2、字符串函数"></a>2、字符串函数</h2><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>ASCII(S)</td><td>返回字符串S中的第一个字符的ASCII码值</td></tr><tr><td>CHAR_LENGTH(s)</td><td>返回字符串s的字符数。作用与CHARACTER_LENGTH(s)相同</td></tr><tr><td>LENGTH(s)</td><td>返回字符串s的字节数，和字符集有关</td></tr><tr><td>CONCAT(s1,s2,……,sn)</td><td>连接s1,s2,……,sn为一个字符串</td></tr><tr><td>CONCAT_WS(x,s1,s2,……,sn)</td><td>同CONCAT(s1,s2,…)函数，但是每个字符串之间要加上x</td></tr><tr><td>INSERT(str, idx, len,replacestr)</td><td>将字符串str从第idx位置开始，len个字符长的子串替换为字符串replacestr</td></tr><tr><td>REPLACE(str, a, b)</td><td>用字符串b替换字符串str中所有出现的字符串a</td></tr><tr><td>UPPER(s) 或 UCASE(s)</td><td>将字符串s的所有字母转成大写字母</td></tr><tr><td>LOWER(s) 或LCASE(s)</td><td>将字符串s的所有字母转成小写字母</td></tr><tr><td>LEFT(str,n)</td><td>返回字符串str最左边的n个字符</td></tr><tr><td>RIGHT(str,n)</td><td>返回字符串str最右边的n个字符</td></tr><tr><td>LPAD(str, len, pad)</td><td>用字符串pad对str最左边进行填充，直到str的长度为len个字符</td></tr><tr><td>RPAD(str ,len, pad)</td><td>用字符串pad对str最右边进行填充，直到str的长度为len个字符</td></tr><tr><td>LTRIM(s)</td><td>去掉字符串s左侧的空格</td></tr><tr><td>RTRIM(s)</td><td>去掉字符串s右侧的空格</td></tr><tr><td>TRIM(s)</td><td>去掉字符串s开始与结尾的空格</td></tr><tr><td>TRIM(s1 FROM s)</td><td>去掉字符串s开始与结尾的s1</td></tr><tr><td>TRIM(LEADING s1 FROM s)</td><td>去掉字符串s开始处的s1</td></tr><tr><td>TRIM(TRAILING s1 FROM s)</td><td>去掉字符串s结尾处的s1</td></tr><tr><td>REPEAT(str, n)</td><td>返回str重复n次的结果</td></tr><tr><td>SPACE(n)</td><td>返回n个空格</td></tr><tr><td>STRCMP(s1,s2)</td><td>比较字符串s1,s2的ASCII码值的大小</td></tr><tr><td>SUBSTR(s,index,len)</td><td>返回从字符串s的index位置其len个字符，作用与SUBSTRING(s,n,len)、MID(s,n,len)相同</td></tr><tr><td>LOCATE(substr,str)</td><td>返回字符串substr在字符串str中首次出现的位置，作用于POSITION(substrIN str)、INSTR(str,substr)相同。未找到，返回0</td></tr><tr><td>ELT(m,s1,s2,…,sn)</td><td>返回指定位置的字符串，如果m=1，则返回s1，如果m=2，则返回s2，如果m=n，则返回sn</td></tr><tr><td>FIELD(s,s1,s2,…,sn)</td><td>返回字符串s在字符串列表中第一次出现的位置</td></tr><tr><td>FIND_IN_SET(s1,s2)</td><td>返回字符串s1在字符串s2中出现的位置。其中，字符串s2是一个以逗号分<br>隔的字符串</td></tr><tr><td>REVERSE(s)</td><td>返回s反转后的字符串</td></tr><tr><td>NULLIF(value1,value2)</td><td>比较两个字符串，如果value1与value2相等，则返回NULL，否则返回<br>value1</td></tr></tbody></table><blockquote><p>注意：MySQL中，字符串的位置是从1开始的。</p></blockquote><p><strong>举例</strong></p><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> FIELD<span class="token punctuation">(</span><span class="token string">'mm'</span><span class="token punctuation">,</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token string">'msm'</span><span class="token punctuation">,</span><span class="token string">'amma'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FIND_IN_SET<span class="token punctuation">(</span><span class="token string">'mm'</span><span class="token punctuation">,</span><span class="token string">'hello,mm,amma'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------------+-----------------------------------+</span><span class="token operator">|</span> FIELD<span class="token punctuation">(</span><span class="token string">'mm'</span><span class="token punctuation">,</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token string">'msm'</span><span class="token punctuation">,</span><span class="token string">'amma'</span><span class="token punctuation">)</span> <span class="token operator">|</span> FIND_IN_SET<span class="token punctuation">(</span><span class="token string">'mm'</span><span class="token punctuation">,</span><span class="token string">'hello,mm,amma'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------------+-----------------------------------+</span><span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------------+-----------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+---------------------+</span><span class="token operator">|</span> <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span><span class="token string">'mysql'</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+---------------------+</span><span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> mysql <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+---------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h2 id="3、日期和时间函数"><a href="#3、日期和时间函数" class="headerlink" title="3、日期和时间函数"></a>3、日期和时间函数</h2><h3 id="3-1、获取日期、时间"><a href="#3-1、获取日期、时间" class="headerlink" title="3.1、获取日期、时间"></a>3.1、获取日期、时间</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>CURDATE() ，CURRENT_DATE()</td><td>返回当前日期，只包含年、月、日</td></tr><tr><td>CURTIME() ， CURRENT_TIME()</td><td>返回当前时间，只包含时、分、秒</td></tr><tr><td>NOW() / SYSDATE() / CURRENT_TIMESTAMP() / LOCALTIME() /LOCALTIMESTAMP()</td><td>返回当前系统日期和时间</td></tr><tr><td>UTC_DATE()</td><td>返回UTC（世界标准时间）日期</td></tr><tr><td>UTC_TIME()</td><td>返回UTC（世界标准时间）时间</td></tr></tbody></table><p><strong>举例</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span>UTC_DATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>UTC_DATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span>UTC_TIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>UTC_TIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315141830660.png" alt="image-20220315141830660"></p><h3 id="3-2、日期与时间戳的转换"><a href="#3-2、日期与时间戳的转换" class="headerlink" title="3.2、日期与时间戳的转换"></a>3.2、日期与时间戳的转换</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>UNIX_TIMESTAMP()</td><td>以UNIX时间戳的形式返回当前时间。SELECT UNIX_TIMESTAMP() -&gt;1634348884</td></tr><tr><td>UNIX_TIMESTAMP(date)</td><td>将时间date以UNIX时间戳的形式返回。</td></tr><tr><td>FROM_UNIXTIME(timestamp)</td><td>将UNIX时间戳的时间转换为普通格式的时间</td></tr></tbody></table><p><strong>举例</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span>UTC_DATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>UTC_DATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span>UTC_TIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>UTC_TIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------+</span><span class="token operator">|</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------+</span><span class="token operator">|</span> <span class="token number">1576380910</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token operator">|</span> UNIX_TIMESTAMP<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token operator">|</span> <span class="token number">1576339200</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span>CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token operator">|</span> UNIX_TIMESTAMP<span class="token punctuation">(</span>CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token operator">|</span> <span class="token number">1576380969</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token string">'2011-11-11 11:11:11'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------------------+</span><span class="token operator">|</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token string">'2011-11-11 11:11:11'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------------------+</span><span class="token operator">|</span> <span class="token number">1320981071</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> FROM_UNIXTIME<span class="token punctuation">(</span><span class="token number">1576380910</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token operator">|</span> FROM_UNIXTIME<span class="token punctuation">(</span><span class="token number">1576380910</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">11</span>:<span class="token number">35</span>:<span class="token number">10</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h3 id="3-3、获取月份、星期、星期数、天数等函数"><a href="#3-3、获取月份、星期、星期数、天数等函数" class="headerlink" title="3.3、获取月份、星期、星期数、天数等函数"></a>3.3、获取月份、星期、星期数、天数等函数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>YEAR(date) / MONTH(date) / DAY(date) HOUR(time) / MINUTE(time) /SECOND(time)</td><td>返回具体的时间值</td></tr><tr><td>MONTHNAME(date)</td><td>返回月份：January，…</td></tr><tr><td>DAYNAME(date)</td><td>返回星期几：MONDAY，TUESDAY…..SUNDAY</td></tr><tr><td>WEEKDAY(date)</td><td>返回周几，注意，周1是0，周2是1，。。。周日是6</td></tr><tr><td>QUARTER(date)</td><td>返回日期对应的季度，范围为1～4</td></tr><tr><td>WEEK(date) ， WEEKOFYEAR(date)</td><td>返回一年中的第几周</td></tr><tr><td>DAYOFYEAR(date)</td><td>返回日期是一年中的第几天</td></tr><tr><td>DAYOFMONTH(date)</td><td>返回日期位于所在月份的第几天</td></tr><tr><td>DAYOFWEEK(date)</td><td>返回周几，注意：周日是1，周一是2，。。。周六是7</td></tr></tbody></table><p><strong>举例</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> YEAR<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>MONTH<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAY<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>HOUR<span class="token punctuation">(</span>CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>MINUTE<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SECOND<span class="token punctuation">(</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315143100086.png" alt="image-20220315143100086"></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token string">'2021-10-26'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAYNAME<span class="token punctuation">(</span><span class="token string">'2021-10-26'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>WEEKDAY<span class="token punctuation">(</span><span class="token string">'2021-10-26'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>QUARTER<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>WEEK<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAYOFYEAR<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAYOFMONTH<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220315143129141.png" alt="image-20220315143129141"></p><h3 id="3-4、日期的操作函数"><a href="#3-4、日期的操作函数" class="headerlink" title="3.4、日期的操作函数"></a>3.4、日期的操作函数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>EXTRACT(type FROM date)</td><td>返回指定日期中特定的部分，type指定返回的值</td></tr></tbody></table><p>EXTRACT(type FROM date)函数中type的取值与含义：</p><p><img src="/2022/03/11/Mysql/image-20220315143301002.png" alt="image-20220315143301002"><img src="/2022/03/11/Mysql/image-20220315143320615.png" alt="image-20220315143320615"></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> EXTRACT<span class="token punctuation">(</span>MINUTE <span class="token keyword">FROM</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>EXTRACT<span class="token punctuation">(</span> WEEK <span class="token keyword">FROM</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>EXTRACT<span class="token punctuation">(</span> QUARTER <span class="token keyword">FROM</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>EXTRACT<span class="token punctuation">(</span> MINUTE_SECOND <span class="token keyword">FROM</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><h3 id="3-5、时间和秒钟转换的函数"><a href="#3-5、时间和秒钟转换的函数" class="headerlink" title="3.5、时间和秒钟转换的函数"></a>3.5、时间和秒钟转换的函数</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>TIME_TO_SEC(time)</td><td>将 time 转化为秒并返回结果值。转化的公式为： 小时<em>3600+分钟</em>60+秒</td></tr><tr><td>SEC_TO_TIME(seconds)</td><td>将 seconds 描述转化为包含小时、分钟和秒的时间</td></tr></tbody></table><p><strong>举例</strong></p><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> TIME_TO_SEC<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token operator">|</span> TIME_TO_SEC<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token operator">|</span> <span class="token number">78774</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> SEC_TO_TIME<span class="token punctuation">(</span><span class="token number">78774</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token operator">|</span> SEC_TO_TIME<span class="token punctuation">(</span><span class="token number">78774</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token operator">|</span> <span class="token number">21</span>:<span class="token number">52</span>:<span class="token number">54</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.12</span> sec<span class="token punctuation">)</span></code></pre><h3 id="3-6、计算日期和时间的函数"><a href="#3-6、计算日期和时间的函数" class="headerlink" title="3.6、计算日期和时间的函数"></a>3.6、计算日期和时间的函数</h3><p><strong>第1组：</strong></p><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>DATE_ADD(datetime, INTERVAL expr type)，ADDDATE(date,INTERVAL expr type)</td><td>返回与给定日期时间相差INTERVAL时间段的日期时间</td></tr><tr><td>DATE_SUB(date,INTERVAL expr type)，SUBDATE(date,INTERVAL expr type)</td><td>返回与date相差INTERVAL时间间隔的日期</td></tr></tbody></table><p>上述函数中type的取值：</p><p><img src="/2022/03/11/Mysql/image-20220315143702523.png" alt="image-20220315143702523"></p><p><strong>举例：</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> INTERVAL <span class="token number">1</span> DAY<span class="token punctuation">)</span> <span class="token keyword">AS</span> col1<span class="token punctuation">,</span>DATE_ADD<span class="token punctuation">(</span><span class="token string">'2021-10-21 23:32:12'</span><span class="token punctuation">,</span>INTERVAL<span class="token number">1</span> SECOND<span class="token punctuation">)</span> <span class="token keyword">AS</span> col2<span class="token punctuation">,</span>ADDDATE<span class="token punctuation">(</span><span class="token string">'2021-10-21 23:32:12'</span><span class="token punctuation">,</span>INTERVAL <span class="token number">1</span> SECOND<span class="token punctuation">)</span> <span class="token keyword">AS</span> col3<span class="token punctuation">,</span>DATE_ADD<span class="token punctuation">(</span><span class="token string">'2021-10-21 23:32:12'</span><span class="token punctuation">,</span>INTERVAL <span class="token string">'1_1'</span> MINUTE_SECOND<span class="token punctuation">)</span> <span class="token keyword">AS</span> col4<span class="token punctuation">,</span>DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> INTERVAL <span class="token operator">-</span><span class="token number">1</span> YEAR<span class="token punctuation">)</span> <span class="token keyword">AS</span> col5<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#可以是负数</span>DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> INTERVAL <span class="token string">'1_1'</span> YEAR_MONTH<span class="token punctuation">)</span> <span class="token keyword">AS</span> col6 <span class="token comment" spellcheck="true">#需要单引号</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> DATE_SUB<span class="token punctuation">(</span><span class="token string">'2021-01-21'</span><span class="token punctuation">,</span>INTERVAL <span class="token number">31</span> DAY<span class="token punctuation">)</span> <span class="token keyword">AS</span> col1<span class="token punctuation">,</span>SUBDATE<span class="token punctuation">(</span><span class="token string">'2021-01-21'</span><span class="token punctuation">,</span>INTERVAL <span class="token number">31</span> DAY<span class="token punctuation">)</span> <span class="token keyword">AS</span> col2<span class="token punctuation">,</span>DATE_SUB<span class="token punctuation">(</span><span class="token string">'2021-01-21 02:01:01'</span><span class="token punctuation">,</span>INTERVAL <span class="token string">'1 1'</span> DAY_HOUR<span class="token punctuation">)</span> <span class="token keyword">AS</span> col3<span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><hr><p><strong>第2组：</strong></p><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>ADDTIME(time1,time2)</td><td>返回time1加上time2的时间。当time2为一个数字时，代表的是秒，可以为负数</td></tr><tr><td>SUBTIME(time1,time2)</td><td>是秒，可以为负数返回time1减去time2后的时间。当time2为一个数字时，代表的</td></tr><tr><td>DATEDIFF(date1,date2)</td><td>返回date1 - date2的日期间隔天数</td></tr><tr><td>TIMEDIFF(time1, time2)</td><td>返回time1 - time2的时间间隔</td></tr><tr><td>FROM_DAYS(N)</td><td>返回从0000年1月1日起，N天以后的日期</td></tr><tr><td>TO_DAYS(date)</td><td>返回日期date距离0000年1月1日的天数</td></tr><tr><td>LAST_DAY(date)</td><td>返回date所在月份的最后一天的日期</td></tr><tr><td>MAKEDATE(year,n)</td><td>针对给定年份与所在年份中的天数返回一个日期</td></tr><tr><td>MAKETIME(hour,minute,second)</td><td>将给定的小时、分钟和秒组合成时间并返回</td></tr><tr><td>PERIOD_ADD(time,n)</td><td>返回time加上n后的时间</td></tr></tbody></table><p><strong>举例：</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>ADDTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'1:1:3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DATEDIFF<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'2021-10-01'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TIMEDIFF<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'2021-10-25 22:10:10'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FROM_DAYS<span class="token punctuation">(</span><span class="token number">366</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">'0000-12-25'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LAST_DAY<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>MAKEDATE<span class="token punctuation">(</span>YEAR<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>MAKETIME<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>PERIOD_ADD<span class="token punctuation">(</span><span class="token number">20200101010101</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> ADDTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------+</span><span class="token operator">|</span> ADDTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------+</span><span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">22</span>:<span class="token number">17</span>:<span class="token number">47</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> ADDTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'1:1:1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'1:1:1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+</span><span class="token operator">|</span> SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'1:1:1'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+</span><span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">21</span>:<span class="token number">23</span>:<span class="token number">50</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'-1:-1:-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token operator">|</span> SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'-1:-1:-1'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">22</span>:<span class="token number">25</span>:<span class="token number">11</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> FROM_DAYS<span class="token punctuation">(</span><span class="token number">366</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token operator">|</span> FROM_DAYS<span class="token punctuation">(</span><span class="token number">366</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token operator">|</span> <span class="token number">0001</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> MAKEDATE<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------+</span><span class="token operator">|</span> MAKEDATE<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------+</span><span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> MAKEDATE<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------+</span><span class="token operator">|</span> MAKEDATE<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------+</span><span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> MAKETIME<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------+</span><span class="token operator">|</span> MAKETIME<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------+</span><span class="token operator">|</span> <span class="token number">01</span>:<span class="token number">01</span>:<span class="token number">01</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> PERIOD_ADD<span class="token punctuation">(</span><span class="token number">20200101010101</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------------------+</span><span class="token operator">|</span> PERIOD_ADD<span class="token punctuation">(</span><span class="token number">20200101010101</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------------------+</span><span class="token operator">|</span> <span class="token number">20200101010102</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> TO_DAYS<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token operator">|</span> TO_DAYS<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token operator">|</span> <span class="token number">737773</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p><strong>举例：查询 7 天内的新增用户数有多少？</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> num <span class="token keyword">FROM</span> new_user <span class="token keyword">WHERE</span> TO_DAYS<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span>TO_DAYS<span class="token punctuation">(</span>regist_time<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">7</span></code></pre><h3 id="3-7、日期的格式化与解析"><a href="#3-7、日期的格式化与解析" class="headerlink" title="3.7、日期的格式化与解析"></a>3.7、日期的格式化与解析</h3><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>DATE_FORMAT(date,fmt)</td><td>按照字符串fmt格式化日期date值</td></tr><tr><td>TIME_FORMAT(time,fmt)</td><td>按照字符串fmt格式化时间time值</td></tr><tr><td>GET_FORMAT(date_type,format_type)</td><td>返回日期字符串的显示格式</td></tr><tr><td>STR_TO_DATE(str, fmt)</td><td>按照字符串fmt对str进行解析，解析为一个日期</td></tr></tbody></table><p><strong>上述非GET_FORMAT 函数中fmt参数常用的格式符：</strong></p><p><img src="/2022/03/11/Mysql/image-20220315144332499.png" alt="image-20220315144332499"></p><p><strong>GET_FORMAT函数中date_type和format_type参数取值如下：</strong></p><p><img src="/2022/03/11/Mysql/image-20220315144402336.png" alt="image-20220315144402336"></p><p><strong>举例：</strong></p><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'%H:%i:%s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------------+</span><span class="token operator">|</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'%H:%i:%s'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------------+</span><span class="token operator">|</span> <span class="token number">22</span>:<span class="token number">57</span>:<span class="token number">34</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'09/01/2009'</span><span class="token punctuation">,</span><span class="token string">'%m/%d/%Y'</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'20140422154706'</span><span class="token punctuation">,</span><span class="token string">'%Y%m%d%H%i%s'</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'2014-04-22 15:47:06'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%i:%s'</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> GET_FORMAT<span class="token punctuation">(</span><span class="token keyword">DATE</span><span class="token punctuation">,</span> <span class="token string">'USA'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+</span><span class="token operator">|</span> GET_FORMAT<span class="token punctuation">(</span><span class="token keyword">DATE</span><span class="token punctuation">,</span> <span class="token string">'USA'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+</span><span class="token operator">|</span> <span class="token operator">%</span>m<span class="token punctuation">.</span><span class="token operator">%</span><span class="token number">d</span><span class="token punctuation">.</span><span class="token operator">%</span>Y <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>GET_FORMAT<span class="token punctuation">(</span><span class="token keyword">DATE</span><span class="token punctuation">,</span><span class="token string">'USA'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'2020-01-01 00:00:00'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------------------------------+</span><span class="token operator">|</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'2020-01-01 00:00:00'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------------------------------+</span><span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h2 id="4、流程控制"><a href="#4、流程控制" class="headerlink" title="4、流程控制"></a>4、流程控制</h2><p>流程处理函数可以根据不同的条件，执行不同的处理流程，可以在SQL语句中实现不同的条件选择。MySQL中的流程处理函数主要包括IF()、IFNULL()和CASE()函数。</p><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>IF(value,value1,value2)</td><td>如果value的值为TRUE，返回value1，否则返回value2</td></tr><tr><td>IFNULL(value1, value2)</td><td>如果value1不为NULL，返回value1，否则返回value2</td></tr><tr><td>CASE WHEN 条件1 THEN 结果1 WHEN 条件2 THEN 结果2…. [ELSE resultn] END</td><td>相当于Java的if…else if…else…</td></tr><tr><td>CASE expr WHEN 常量值1 THEN 值1 WHEN 常量值1 THEN值1 …. [ELSE 值n] END</td><td>相当于Java的switch…case…</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'正确'</span><span class="token punctuation">,</span><span class="token string">'错误'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span>正确<span class="token keyword">SELECT</span> IFNULL<span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'Hello Word'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span>Hello Word<span class="token keyword">SELECT</span> <span class="token keyword">CASE</span>　　<span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">></span> <span class="token number">0</span>　　<span class="token keyword">THEN</span> <span class="token string">'1 > 0'</span>　　<span class="token keyword">WHEN</span> <span class="token number">2</span> <span class="token operator">></span> <span class="token number">0</span>　　<span class="token keyword">THEN</span> <span class="token string">'2 > 0'</span>　　<span class="token keyword">ELSE</span> <span class="token string">'3 > 0'</span>　　<span class="token keyword">END</span><span class="token operator">-</span><span class="token operator">></span><span class="token number">1</span> <span class="token operator">></span> <span class="token number">0</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token number">1</span>　　<span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">'我是1'</span>　　<span class="token keyword">WHEN</span> <span class="token number">2</span> <span class="token keyword">THEN</span> <span class="token string">'我是2'</span><span class="token keyword">ELSE</span> <span class="token string">'你是谁'</span><span class="token keyword">SELECT</span>    employee_id<span class="token punctuation">,</span>    salary<span class="token punctuation">,</span><span class="token keyword">CASE</span>                <span class="token keyword">WHEN</span> salary <span class="token operator">>=</span> <span class="token number">15000</span> <span class="token keyword">THEN</span>        <span class="token string">'高薪'</span>         <span class="token keyword">WHEN</span> salary <span class="token operator">>=</span> <span class="token number">10000</span> <span class="token keyword">THEN</span>        <span class="token string">'潜力股'</span>         <span class="token keyword">WHEN</span> salary <span class="token operator">>=</span> <span class="token number">8000</span> <span class="token keyword">THEN</span>        <span class="token string">'屌丝'</span> <span class="token keyword">ELSE</span> <span class="token string">'草根'</span>     <span class="token keyword">END</span> <span class="token string">"描述"</span> <span class="token keyword">FROM</span>    employees<span class="token punctuation">;</span><span class="token keyword">SELECT</span>    oid<span class="token punctuation">,</span>    <span class="token punctuation">`</span><span class="token keyword">status</span><span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token keyword">CASE</span>        <span class="token punctuation">`</span><span class="token keyword">status</span><span class="token punctuation">`</span>         <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span>        <span class="token string">'未付款'</span>         <span class="token keyword">WHEN</span> <span class="token number">2</span> <span class="token keyword">THEN</span>        <span class="token string">'已付款'</span>         <span class="token keyword">WHEN</span> <span class="token number">3</span> <span class="token keyword">THEN</span>        <span class="token string">'已发货'</span>         <span class="token keyword">WHEN</span> <span class="token number">4</span> <span class="token keyword">THEN</span>        <span class="token string">'确认收货'</span> <span class="token keyword">ELSE</span> <span class="token string">'无效订单'</span>     <span class="token keyword">END</span> <span class="token keyword">FROM</span>    t_order<span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'yes'</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'no'</span> <span class="token keyword">ELSE</span> <span class="token string">'unknown'</span> <span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------------------------------------------------+</span><span class="token operator">|</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'yes'</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'no'</span> <span class="token keyword">ELSE</span> <span class="token string">'unknown'</span> <span class="token keyword">END</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------------------------------------------------+</span><span class="token operator">|</span> yes <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">---------------------------------------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'yes'</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'no'</span> <span class="token keyword">ELSE</span> <span class="token string">'unknown'</span> <span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------------------------------------------------+</span><span class="token operator">|</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'yes'</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'no'</span> <span class="token keyword">ELSE</span> <span class="token string">'unknown'</span> <span class="token keyword">END</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------------------------------------------------+</span><span class="token operator">|</span> unknown <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------------------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token number">1</span> <span class="token keyword">WHEN</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">ELSE</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------------------------------------+</span><span class="token operator">|</span> <span class="token keyword">CASE</span> <span class="token number">1</span> <span class="token keyword">WHEN</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">ELSE</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">END</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------------------------------------+</span><span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">WHEN</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">ELSE</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------------------------------+</span><span class="token operator">|</span> <span class="token keyword">CASE</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">WHEN</span> <span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">ELSE</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">END</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------------------------------+</span><span class="token operator">|</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span><span class="token number">12</span> <span class="token operator">*</span> salary <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> IFNULL<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> employees<span class="token punctuation">;</span><span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span> job_id<span class="token punctuation">,</span> salary<span class="token punctuation">,</span><span class="token keyword">CASE</span> job_id <span class="token keyword">WHEN</span> <span class="token string">'IT_PROG'</span> <span class="token keyword">THEN</span> <span class="token number">1.10</span><span class="token operator">*</span>salary<span class="token keyword">WHEN</span> <span class="token string">'ST_CLERK'</span> <span class="token keyword">THEN</span> <span class="token number">1.15</span><span class="token operator">*</span>salary<span class="token keyword">WHEN</span> <span class="token string">'SA_REP'</span> <span class="token keyword">THEN</span> <span class="token number">1.20</span><span class="token operator">*</span>salary<span class="token keyword">ELSE</span> salary <span class="token keyword">END</span> <span class="token string">"REVISED_SALARY"</span><span class="token keyword">FROM</span> employees<span class="token punctuation">;</span></code></pre><img src="/2022/03/11/Mysql/image-20220315162124166.png" alt="image-20220315162124166" style="zoom:150%;"><p><strong>练习：查询部门号为 10,20, 30 的员工信息, 若部门号为 10, 则打印其工资的 1.1 倍, 20 号部门, 则打印其工资的 1.2 倍, 30 号部门打印其工资的 1.3 倍数。</strong></p><h2 id="5、-加密与解密函数"><a href="#5、-加密与解密函数" class="headerlink" title="5、 加密与解密函数"></a>5、 加密与解密函数</h2><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>PASSWORD(str)</td><td>返回字符串str的加密版本，41位长的字符串。加密结果不可逆，常用于用户的密码加密</td></tr><tr><td>MD5(str)</td><td>返回字符串str的md5加密后的值，也是一种加密方式。若参数为NULL，则会返回NULL</td></tr><tr><td>SHA(str)</td><td>从原明文密码str计算并返回加密后的密码字符串，当参数为NULL时，返回NULL。SHA加密算法比MD5更加安全。</td></tr><tr><td>ENCODE(value,password_seed)</td><td>返回使用password_seed作为加密密码加密value</td></tr><tr><td>DECODE(value,password_seed)</td><td>返回使用password_seed作为加密密码解密value</td></tr></tbody></table><p>可以看到，ENCODE(value,password_seed)函数与DECODE(value,password_seed)函数互为反函数。</p><p><strong>举例：</strong></p><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> PASSWORD<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------------------------+----------------+</span><span class="token operator">|</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span> <span class="token operator">|</span> PASSWORD<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------------------------+----------------+</span><span class="token operator">|</span> <span class="token operator">*</span>E74858DB86EBA20BC33D0AECAE8A8108C56B17FA <span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-------------------------------------------+----------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> md5<span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token number">202cb962ac59075b964b07152d234b70</span></code></pre><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> ENCODE<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span> <span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------+</span><span class="token operator">|</span> ENCODE<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span> <span class="token string">'mysql'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------+</span><span class="token operator">|</span> íg　¼　ìÉ <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> DECODE<span class="token punctuation">(</span>ENCODE<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------------------------+</span><span class="token operator">|</span> DECODE<span class="token punctuation">(</span>ENCODE<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">,</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'mysql'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------------------------+</span><span class="token operator">|</span> mysql <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">warnings</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h2 id="6、-MySQL信息函数"><a href="#6、-MySQL信息函数" class="headerlink" title="6、 MySQL信息函数"></a>6、 MySQL信息函数</h2><p>MySQL中内置了一些可以查询MySQL信息的函数，这些函数主要用于帮助数据库开发或运维人员更好地对数据库进行维护工作。</p><table><thead><tr><th align="center">函数</th><th align="center">用法</th></tr></thead><tbody><tr><td align="center">VERSION()</td><td align="center">返回当前MySQL的版本号</td></tr><tr><td align="center">CONNECTION_ID()</td><td align="center">返回当前MySQL服务器的连接数</td></tr><tr><td align="center">DATABASE()，SCHEMA()</td><td align="center">返回MySQL命令行当前所在的数据库</td></tr><tr><td align="center">USER()，CURRENT_USER()、SYSTEM_USER()，SESSION_USER()</td><td align="center">返回当前连接MySQL的用户名，返回结果格式为“主机名@用户名”</td></tr><tr><td align="center">CHARSET(value)</td><td align="center">返回字符串value自变量的字符集</td></tr><tr><td align="center">COLLATION(value)</td><td align="center">返回字符串value的比较规则</td></tr></tbody></table><p><strong>举例：</strong></p><pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------+</span><span class="token operator">|</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------+</span><span class="token operator">|</span> test <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------+</span><span class="token operator">|</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------+</span><span class="token operator">|</span> test <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">SYSTEM_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">SESSION_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+----------------+----------------+----------------+</span><span class="token operator">|</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">CURRENT_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">SYSTEM_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">SESSION_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+----------------+----------------+----------------+</span><span class="token operator">|</span> root<span class="token variable">@localhost</span> <span class="token operator">|</span> root<span class="token variable">@localhost</span> <span class="token operator">|</span> root<span class="token variable">@localhost</span> <span class="token operator">|</span> root<span class="token variable">@localhost</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+----------------+----------------+----------------+</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token operator">|</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token operator">|</span> utf8mb4 <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> COLLATION<span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token operator">|</span> COLLATION<span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token operator">|</span> utf8mb4_general_ci <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h2 id="7、其他函数"><a href="#7、其他函数" class="headerlink" title="7、其他函数"></a>7、其他函数</h2><p>MySQL中有些函数无法对其进行具体的分类，但是这些函数在MySQL的开发和运维过程中也是不容忽视的。</p><table><thead><tr><th>函数</th><th>用法</th></tr></thead><tbody><tr><td>FORMAT(value,n)</td><td>返回对数字value进行格式化后的结果数据。n表示四舍五入后保留到小数点后n位</td></tr><tr><td>CONV(value,from,to)</td><td>将value的值进行不同进制之间的转换</td></tr><tr><td>INET_ATON(ipvalue)</td><td>将以点分隔的IP地址转化为一个数字</td></tr><tr><td>INET_NTOA(value)</td><td>将数字形式的IP地址转化为以点分隔的IP地址</td></tr><tr><td>BENCHMARK(n,expr)</td><td>将表达式expr重复执行n次。用于测试MySQL处理expr表达式所耗费的时间</td></tr><tr><td>CONVERT(value USINGchar_code)</td><td>将value所使用的字符编码修改为char_code</td></tr></tbody></table><p><strong>举例：</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 如果n的值小于或者等于0，则只保留整数部分</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">123.123</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">123.523</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">123.123</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+--------------------+---------------------+</span><span class="token operator">|</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">123.123</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">123.523</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">123.123</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+--------------------+---------------------+</span><span class="token operator">|</span> <span class="token number">123.12</span> <span class="token operator">|</span> <span class="token number">124</span> <span class="token operator">|</span> <span class="token number">123</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">--------------------+--------------------+---------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> CONV<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> CONV<span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> CONV<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------+------------------+-------------------+</span><span class="token operator">|</span> CONV<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> CONV<span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span> CONV<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------+------------------+-------------------+</span><span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span> 22B8 <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------+------------------+-------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> INET_ATON<span class="token punctuation">(</span><span class="token string">'192.168.1.100'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token operator">|</span> INET_ATON<span class="token punctuation">(</span><span class="token string">'192.168.1.100'</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token operator">|</span> <span class="token number">3232235876</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 以“192.168.1.100”为例，计算方式为192乘以256的3次方，加上168乘以256的2次方，加上1乘以256，再加上</span><span class="token number">100</span>。mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> INET_NTOA<span class="token punctuation">(</span><span class="token number">3232235876</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------+</span><span class="token operator">|</span> INET_NTOA<span class="token punctuation">(</span><span class="token number">3232235876</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------+</span><span class="token operator">|</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">1.100</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">-----------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> BENCHMARK<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> MD5<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token operator">|</span> BENCHMARK<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> MD5<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> BENCHMARK<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span> MD5<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------------+</span><span class="token operator">|</span> BENCHMARK<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span> MD5<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------------+</span><span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">----------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.20</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token keyword">CONVERT</span><span class="token punctuation">(</span><span class="token string">'mysql'</span> <span class="token keyword">USING</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------+----------------------------------------+</span><span class="token operator">|</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token keyword">CONVERT</span><span class="token punctuation">(</span><span class="token string">'mysql'</span> <span class="token keyword">USING</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------+----------------------------------------+</span><span class="token operator">|</span> utf8mb4 <span class="token operator">|</span> utf8 <span class="token operator">|</span><span class="token operator">+</span><span class="token comment" spellcheck="true">------------------+----------------------------------------+</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><h2 id="练习-1"><a href="#练习-1" class="headerlink" title="练习"></a>练习</h2><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 1.显示系统时间(注：日期+时间)</span><span class="token comment" spellcheck="true"># 2.查询员工号，姓名，工资，以及工资提高百分之20%后的结果（new salary） </span><span class="token comment" spellcheck="true"># 3.将员工的姓名按首字母排序，并写出姓名的长度（length）</span><span class="token comment" spellcheck="true"># 4.查询员工id,last_name,salary，并作为一个列输出，别名为OUT_PUT </span><span class="token comment" spellcheck="true"># 5.查询公司各员工工作的年数、工作的天数，并按工作年数的降序排序 </span><span class="token comment" spellcheck="true"># 6.查询员工姓名，hire_date , department_id，满足以下条件：雇用时间在1997年之后，department_id 为80 或 90 或110, commission_pct不为空</span><span class="token comment" spellcheck="true"># 7.查询公司中入职超过10000天的员工姓名、入职时间</span><span class="token comment" spellcheck="true"># 8.做一个查询，产生下面的结果 </span><span class="token operator">&lt;</span>last_name<span class="token operator">></span> earns <span class="token operator">&lt;</span>salary<span class="token operator">></span> monthly but wants <span class="token operator">&lt;</span>salary<span class="token operator">*</span><span class="token number">3</span><span class="token operator">></span></code></pre><img src="/2022/03/11/Mysql/image-20220315170259211.png" alt="image-20220315170259211" style="zoom:50%;"><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 9.使用case-when，按照下面的条件： </span>job              grade AD_PRES            AST_MAN             BIT_PROG         CSA_REP             D ST_CLERK        E 产生下面的结果:</code></pre><p><img src="/2022/03/11/Mysql/image-20220315170457572.png" alt="image-20220315170457572"></p><hr><p><strong>1.显示系统时间(注：日期+时间)</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span></code></pre><hr><p>**2.查询员工号，姓名，工资，以及工资提高百分之20%后的结果（new salary） **</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 2.查询员工号，姓名，工资，以及工资提高百分之20%后的结果（new salary）</span><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>salary<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>salary <span class="token operator">+</span> <span class="token number">e</span><span class="token punctuation">.</span>salary <span class="token operator">*</span> <span class="token number">0.2</span> <span class="token string">'new salary'</span><span class="token keyword">FROM</span>    employees <span class="token number">e</span></code></pre><hr><p><strong>3.将员工的姓名按首字母排序，并写出姓名的长度（length）</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    LENGTH<span class="token punctuation">(</span> <span class="token number">e</span><span class="token punctuation">.</span>last_name <span class="token punctuation">)</span> <span class="token keyword">AS</span> length <span class="token keyword">FROM</span>    employees <span class="token number">e</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name <span class="token keyword">DESC</span></code></pre><hr><p>**4.查询员工id,last_name,salary，并作为一个列输出，别名为OUT_PUT **</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    CONCAT_WS<span class="token punctuation">(</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token number">e</span><span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> <span class="token number">e</span><span class="token punctuation">.</span>salary <span class="token punctuation">)</span> out_Put <span class="token keyword">FROM</span>    employees <span class="token number">e</span></code></pre><hr><p><strong>5.查询公司各员工工作的年数、工作的天数，并按工作年数的降序排序</strong> </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    FLOOR<span class="token punctuation">(</span> DATEDIFF<span class="token punctuation">(</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span> <span class="token number">e</span><span class="token punctuation">.</span>hire_date <span class="token punctuation">)</span><span class="token operator">/</span> <span class="token number">365</span> <span class="token punctuation">)</span> work_year<span class="token punctuation">,</span>    DATEDIFF<span class="token punctuation">(</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span> <span class="token number">e</span><span class="token punctuation">.</span>hire_date <span class="token punctuation">)</span> work_day <span class="token keyword">FROM</span>    employees <span class="token number">e</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span>    work_year <span class="token keyword">DESC</span></code></pre><hr><p><strong>6.查询员工姓名，<code>hire_date </code>, <code>department_id</code>，满足以下条件：雇用时间在1997年之后，<code>department_id </code>为<code>80 </code>或<code> 90</code> 或<code>110</code>, <code>commission_pct</code>不为空</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>hire_date<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token keyword">FROM</span>    employees <span class="token number">e</span> <span class="token comment" spellcheck="true">#where DATE_FORMAT(hire_date,'%Y') >= '1997'</span><span class="token comment" spellcheck="true">#WHERE hire_date >= '1997-01-01' </span><span class="token comment" spellcheck="true">#WHERE hire_date >= STR_TO_DATE('1997-01-01', '%Y-%m-%d')</span><span class="token keyword">WHERE</span>    DATEDIFF<span class="token punctuation">(</span> <span class="token string">'1997-01-01'</span><span class="token punctuation">,</span> <span class="token number">e</span><span class="token punctuation">.</span>hire_date <span class="token punctuation">)</span><span class="token operator">&lt;</span> <span class="token number">0</span>     <span class="token operator">AND</span> <span class="token number">e</span><span class="token punctuation">.</span>department_id <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">110</span> <span class="token punctuation">)</span>     <span class="token operator">AND</span> commission_pct <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>     </code></pre><hr><p><strong>7.查询公司中入职超过10000天的员工姓名、入职时间</strong></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>hire_date <span class="token keyword">FROM</span> employees <span class="token comment" spellcheck="true">#WHERE TO_DAYS(NOW()) - to_days(hire_date) > 10000; </span><span class="token keyword">WHERE</span> DATEDIFF<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>hire_date<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">10000</span><span class="token punctuation">;</span></code></pre><hr><p><strong>8.做一个查询，产生下面的结果</strong> </p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>last_name</span><span class="token punctuation">></span></span> earns <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>salary</span><span class="token punctuation">></span></span> monthly but wants <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>salary*3</span><span class="token punctuation">></span></span> </code></pre><p><img src="/2022/03/11/Mysql/image-20220317160211693.png" alt="image-20220317160211693"></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    CONCAT<span class="token punctuation">(</span>        <span class="token number">e</span><span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>        <span class="token string">' earns '</span><span class="token punctuation">,</span>        <span class="token keyword">TRUNCATE</span> <span class="token punctuation">(</span> <span class="token number">e</span><span class="token punctuation">.</span>salary<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token string">' monthly but wants '</span><span class="token punctuation">,</span>    <span class="token keyword">TRUNCATE</span> <span class="token punctuation">(</span> <span class="token number">e</span><span class="token punctuation">.</span>salary <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token string">"Dream Salary"</span> <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">;</span></code></pre><hr><p><strong>9.使用case-when，按照下面的条件：</strong> </p><table><thead><tr><th align="center">job</th><th align="center">grade</th></tr></thead><tbody><tr><td align="center">AD_PRES</td><td align="center">A</td></tr><tr><td align="center">ST_MAN</td><td align="center">B</td></tr><tr><td align="center">IT_PROG</td><td align="center">C</td></tr><tr><td align="center">SA_REP</td><td align="center">D</td></tr><tr><td align="center">ST_CLERK</td><td align="center">E</td></tr></tbody></table><p><strong>产生下面的结果:</strong></p><p><img src="/2022/03/11/Mysql/image-20220317164353269.png" alt="image-20220317164353269"></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token number">e</span><span class="token punctuation">.</span>last_name Last_name<span class="token punctuation">,</span>    <span class="token number">e</span><span class="token punctuation">.</span>job_id Job_id<span class="token punctuation">,</span><span class="token keyword">CASE</span>        <span class="token number">e</span><span class="token punctuation">.</span>job_id         <span class="token keyword">WHEN</span> <span class="token string">'AD_PRES'</span> <span class="token keyword">THEN</span>        <span class="token string">'A'</span>         <span class="token keyword">WHEN</span> <span class="token string">'ST_MAN'</span> <span class="token keyword">THEN</span>        <span class="token string">'B'</span>         <span class="token keyword">WHEN</span> <span class="token string">'IT_PROG'</span> <span class="token keyword">THEN</span>        <span class="token string">'C'</span>         <span class="token keyword">WHEN</span> <span class="token string">'SA_REP'</span> <span class="token keyword">THEN</span>        <span class="token string">'D'</span>         <span class="token keyword">WHEN</span> <span class="token string">'ST_CLERK'</span> <span class="token keyword">THEN</span>        <span class="token string">'E'</span> <span class="token keyword">ELSE</span> <span class="token string">'F'</span>     <span class="token keyword">END</span> <span class="token string">"grade"</span> <span class="token keyword">FROM</span>    employees <span class="token number">e</span><span class="token punctuation">;</span></code></pre><h1 id="三、聚合函数"><a href="#三、聚合函数" class="headerlink" title="三、聚合函数"></a>三、聚合函数</h1><h2 id="1、AVG和SUM函数"><a href="#1、AVG和SUM函数" class="headerlink" title="1、AVG和SUM函数"></a>1、AVG和SUM函数</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token function">AVG</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">MAX</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">MIN</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">SUM</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">FROM</span>    employees <span class="token keyword">WHERE</span>    job_id <span class="token operator">LIKE</span> <span class="token string">'%REP%'</span><span class="token punctuation">;</span></code></pre><img src="/2022/03/11/Mysql/image-20220318095537606.png" alt="image-20220318095537606" style="zoom: 200%;"><p>可以对<strong>数值型数据</strong>使用<code>AVG </code>和 <code>SUM </code>函数。</p><h2 id="2、MIN和MAX函数"><a href="#2、MIN和MAX函数" class="headerlink" title="2、MIN和MAX函数"></a>2、MIN和MAX函数</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token function">MIN</span><span class="token punctuation">(</span> hire_date <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">MAX</span><span class="token punctuation">(</span> hire_date <span class="token punctuation">)</span> <span class="token keyword">FROM</span>    employees<span class="token punctuation">;</span></code></pre><img src="/2022/03/11/Mysql/image-20220318095706541.png" alt="image-20220318095706541" style="zoom:200%;"><p>可以对<strong>任意数据类型</strong>的数据使用<code>MIN</code>和 <code>MAX </code>函数。</p><h2 id="3、COUNT"><a href="#3、COUNT" class="headerlink" title="3、COUNT"></a>3、COUNT</h2><p><code>COUNT(*)</code>返回表中记录总数，适用于<strong>任意数据类型</strong>。</p><p><code>COUNT(expr)</code> 返回<code>expr</code><strong>不为空</strong>的记录总数。</p><p><strong>问题：用<code>count(*)</code>，<code>count(1)</code>，<code>count</code>(列名)谁好呢?</strong></p><p>其实，对于MyISAM引擎的表是没有区别的。这种引擎内部有一计数器在维护着行数。</p><p><code>Innodb</code>引擎的表用<code>count(*)</code>,<code>count(1)</code>直接读行数，复杂度是<code>O(n)</code>，因为<code>innodb</code>真的要去数一遍。但好</p><p>于具体的count(列名)。</p><p><strong>问题：能不能使用<code>count(列名)</code>替换<code>count(*)</code>?</strong></p><p>不要使用 <code>count(列名)</code>来替代<code> count(*)</code> ，<code>count(*)</code>是 <code>SQL92</code> 定义的标准统计行数的语法，跟数</p><p>据库无关，跟 <code>NULL </code>和非<code> NULL</code> 无关。</p><p>说明：<code>count(*)</code>会统计值为 NULL 的行，而<code> count(列名)</code>不会统计此列为<code>NULL</code>值的行。</p><h2 id="4、GROUP-BY"><a href="#4、GROUP-BY" class="headerlink" title="4、GROUP BY"></a>4、GROUP BY</h2><img src="/2022/03/11/Mysql/image-20220318105229563.png" alt="image-20220318105229563" style="zoom:80%;"><p>可以使用<code>GROUP BY</code>子句将表中的数据分成若干组</p><pre class=" language-sql"><code class="language-sql">SELEC Tcolumn<span class="token punctuation">,</span>group_function <span class="token punctuation">(</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">)</span> <span class="token keyword">FROM</span>    <span class="token keyword">TABLE</span>     <span class="token punctuation">[</span> <span class="token keyword">WHERE</span> CONDITION<span class="token punctuation">]</span>    <span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> group_by_expression<span class="token punctuation">]</span>    <span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">column</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>明确</strong>：<code>WHERE</code>一定放在<code>FROM</code>后面</p><p>在<code>SELECT</code>列表中<strong>所有</strong>未包含在组函数中的列都应该包含在<code>GROUP BY</code>子句中</p><p>包含在<code>GROUP BY</code>子句中的列<strong>不必</strong>包含在<code>SELECT</code>列表中</p><p><code>GROUP BY</code> 声明在<code>FROM</code>后面、<code>WHERE</code>后面、<code>ORDER BY</code>前面、<code>LIMIT</code>前面</p><hr><h4 id="WITH-ROLLUP新特性"><a href="#WITH-ROLLUP新特性" class="headerlink" title="WITH ROLLUP新特性"></a><code>WITH ROLLUP</code>新特性</h4><p>使用<code>WITH ROLLUP</code>关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    department_id<span class="token punctuation">,</span>    <span class="token function">AVG</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">FROM</span>    employees <span class="token keyword">WHERE</span>    department_id <span class="token operator">></span> <span class="token number">80</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span>    department_id <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span></code></pre><p><img src="/2022/03/11/Mysql/image-20220318113640272.png" alt="image-20220318113640272"></p><h2 id="5、HAVING"><a href="#5、HAVING" class="headerlink" title="5、HAVING"></a>5、HAVING</h2><p><strong>基本使用</strong></p><p><img src="/2022/03/11/Mysql/image-20220318114201352.png" alt="image-20220318114201352"></p><p><strong>过滤分组：<code>HAVING</code>子句</strong></p><ol><li><p>行已经被分组。</p></li><li><p>使用了聚合函数。</p></li><li><p>满足HAVING子句中条件的分组将被显示。</p></li><li><p>HAVING不能单独使用，必须要跟GROUPBY一起使用。</p></li></ol><p><img src="/2022/03/11/Mysql/image-20220318114252607.png" alt="image-20220318114252607"></p><p><strong>非法使用聚合函数 ： 不能在</strong> <strong>WHERE</strong> <strong>子句中使用聚合函数。</strong>如下：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">8000</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span></code></pre><h2 id="6、WHERE和HAVING的对比"><a href="#6、WHERE和HAVING的对比" class="headerlink" title="6、WHERE和HAVING的对比"></a>6、WHERE和HAVING的对比</h2><p><strong>区别1：WHERE 可以直接使用表中的字段作为筛选条件，但不能使用分组中的计算函数作为筛选条件；HAVING 必须要与 GROUP BY 配合使用，可以把分组计算的函数和分组字段作为筛选条件。</strong></p><p>这决定了，在需要对数据进行分组统计的时候，HAVING 可以完成 WHERE 不能完成的任务。这是因为，在查询语法结构中，WHERE 在 GROUP BY 之前，所以无法对分组结果进行筛选。HAVING 在 GROUP BY 之后，可以使用分组字段和分组中的计算函数，对分组的结果集进行筛选，这个功能是 WHERE 无法完成的。另外，WHERE排除的记录不再包括在分组中。</p><p><strong>区别2：如果需要通过连接从关联表中获取需要的数据，WHERE 是先筛选后连接，而 HAVING 是先连接后筛选。</strong> </p><p>这一点，就决定了在关联查询中，WHERE 比 HAVING 更高效。因为 WHERE 可以先筛选，用一个筛选后的较小数据集和关联表进行连接，这样占用的资源比较少，执行效率也比较高。HAVING 则需要先把结果集准备好，也就是用未被筛选的数据集进行关联，然后对这个大的数据集进行筛选，这样占用的资源就比较多，执行效率也较低。</p><p>小结如下：</p><table><thead><tr><th align="center"></th><th align="center"><strong>优点</strong></th><th align="center"><strong>缺点</strong></th></tr></thead><tbody><tr><td align="center">WHERE</td><td align="center">先筛选数据再关联，执行效率高</td><td align="center">不能使用分组中的计算函数进行筛选</td></tr><tr><td align="center">HAVING</td><td align="center">可以使用分组中的计算函数</td><td align="center">在最后的结果集中进行筛选，执行效率较低</td></tr></tbody></table><h2 id="练习-2"><a href="#练习-2" class="headerlink" title="练习"></a>练习</h2><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 1.where子句可否使用组函数进行过滤?  </span>不能！<span class="token comment" spellcheck="true"># 2.查询公司员工工资的最大值，最小值，平均值，总和 </span><span class="token comment" spellcheck="true"># 3.查询各job_id的员工工资的最大值，最小值，平均值，总和 </span><span class="token comment" spellcheck="true"># 4.选择具有各个job_id的员工人数 </span><span class="token comment" spellcheck="true"># 5.查询员工最高工资和最低工资的差距（DIFFERENCE）</span><span class="token comment" spellcheck="true"># 6.查询各个管理者手下员工的最低工资，其中最低工资不能低于6000，没有管理者的员工不计算在内</span><span class="token comment" spellcheck="true"># 7.查询所有部门的名字，location_id，员工数量和平均工资，并按平均工资降序</span><span class="token comment" spellcheck="true"># 8.查询每个工种、每个部门的部门名、工种名和最低工资</span></code></pre><hr><p><strong>2.查询公司员工工资的最大值，最小值，平均值，总和</strong> </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    <span class="token function">MAX</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">MIN</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">AVG</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">SUM</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">FROM</span>    employees<span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux运维</title>
      <link href="/2022/02/28/linux%E8%BF%90%E7%BB%B4/"/>
      <url>/2022/02/28/linux%E8%BF%90%E7%BB%B4/</url>
      
        <content type="html"><![CDATA[<h1 id="网站运行流程图"><a href="#网站运行流程图" class="headerlink" title="网站运行流程图"></a>网站运行流程图</h1><p><img src="/2022/02/28/linux%E8%BF%90%E7%BB%B4/image-20220301000501337.png" alt="网站运行流程图"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpingData JPA</title>
      <link href="/2022/02/24/SpingData-JPA/"/>
      <url>/2022/02/24/SpingData-JPA/</url>
      
        <content type="html"><![CDATA[<h1 id="一、SpirngBoot-JPA整合流程"><a href="#一、SpirngBoot-JPA整合流程" class="headerlink" title="一、SpirngBoot+JPA整合流程"></a>一、SpirngBoot+JPA整合流程</h1><p><strong>1、新建project</strong></p><p><strong>2、引入依赖</strong></p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><p><strong>3、编辑yaml文件</strong></p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/jpa<span class="token punctuation">?</span>characterEncoding=utf8<span class="token important">&amp;useSSL</span>=false    <span class="token key atrule">username</span><span class="token punctuation">:</span> root    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">3155530</span>  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> update    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8088</span></code></pre><p><strong>4、启动项加注解</strong></p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EntityScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"com.liran.springdatajpatest.pojo"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token annotation punctuation">@EnableJpaRepositories</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"com.liran.springdatajpatest.repositories"</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>5、实体类</strong></p><p>@Entity  //将实体类指定为jpa实体</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>liran<span class="token punctuation">.</span>springdatajpatest<span class="token punctuation">.</span>pojo<span class="token punctuation">;</span><span class="token keyword">import</span> lombok<span class="token punctuation">.</span>Data<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span>*<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** * @author obt */</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@Entity</span>  <span class="token comment" spellcheck="true">//将实体类指定为jpa实体</span><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Id</span>    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> GenerationType<span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> String username<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> String birthday<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> String sex<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> String address<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="遇到的坑"><a href="#遇到的坑" class="headerlink" title="遇到的坑"></a>遇到的坑</h2><p><strong>1、启动项没有加注解导致数据库无法自动建表</strong></p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EntityScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"com.liran.springdatajpatest.pojo"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token annotation punctuation">@EnableJpaRepositories</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"com.liran.springdatajpatest.repositories"</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>2、post请求在api工具里用get提交</strong></p><p><strong>3、controller内加入了<code>@RequestBody</code></strong></p><p><code>@RequestBody</code>是接受json格式的数据</p><p><code>url?username=xxx</code>接受数据的形式可以直接用实体类直接接收</p><hr><h1 id="二、SpingData-Repositories"><a href="#二、SpingData-Repositories" class="headerlink" title="二、SpingData Repositories"></a>二、SpingData Repositories</h1><p><strong>1、CrudRepository</strong></p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@NoRepositoryBean</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CrudRepository</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> ID <span class="token keyword">extends</span> <span class="token class-name">Serializable</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">Repository</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> ID<span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token operator">&lt;</span>S <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token operator">></span> S <span class="token function">save</span><span class="token punctuation">(</span>S entity<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//保存</span>    <span class="token operator">&lt;</span>S <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token operator">></span> Iterable<span class="token operator">&lt;</span>S<span class="token operator">></span> <span class="token function">save</span><span class="token punctuation">(</span>Iterable<span class="token operator">&lt;</span>S<span class="token operator">></span> entities<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//批量保存</span>    T <span class="token function">findOne</span><span class="token punctuation">(</span>ID id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//根据id查询一个对象</span>    <span class="token keyword">boolean</span> <span class="token function">exists</span><span class="token punctuation">(</span>ID id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断对象是否存在</span>    Iterable<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//查询所有的对象</span>    Iterable<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">findAll</span><span class="token punctuation">(</span>Iterable<span class="token operator">&lt;</span>ID<span class="token operator">></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//根据id列表查询所有的对象</span>    <span class="token keyword">long</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//计算对象的总个数</span>    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span>ID id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//根据id删除</span>    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span>T entity<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//删除对象</span>    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span>Iterable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token operator">></span> entities<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//批量删除</span>    <span class="token keyword">void</span> <span class="token function">deleteAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//删除所有</span><span class="token punctuation">}</span></code></pre><p><strong>2、分页排序</strong></p><p>要进行分页排序查询，只需要创建接口继承<code>PagingAndSortingRepository</code>即可</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Repository</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Test3Rpository</span> <span class="token keyword">extends</span> <span class="token class-name">PagingAndSortingRepository</span><span class="token operator">&lt;</span>User<span class="token punctuation">,</span> String<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>使用</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/getAllPage"</span><span class="token punctuation">)</span><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Object<span class="token operator">></span> <span class="token function">getAllPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Sort sort <span class="token operator">=</span> Sort<span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">descending</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Page<span class="token operator">&lt;</span>User<span class="token operator">></span> all <span class="token operator">=</span> repository3<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>PageRequest<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span>sort<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>Object<span class="token operator">></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    page<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>all<span class="token punctuation">.</span><span class="token function">getTotalPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    page<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>all<span class="token punctuation">.</span><span class="token function">getTotalElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    page<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>all<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> page<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h1 id="三、自定义查询"><a href="#三、自定义查询" class="headerlink" title="三、自定义查询"></a>三、自定义查询</h1><p><strong>1、jpql</strong></p><p>①@Query</p><p>​    参数设置：</p><pre><code>                    1. 索引： ?数字     ```java     @Query("from User where username = ?1")     List&lt;User&gt; findUserByUsername(String username);     ```                    2. 具名： :参数名   结合`@Param`注解     ```java     @Query("from User where username = :username")     List&lt;User&gt; findUserByUsername(@Param("username") String username);     ```</code></pre><p>②增删改：必须加上<code>@Tranctional</code>和<code>@Modifying</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java8新特性</title>
      <link href="/2022/02/22/Java8%E6%96%B0%E7%89%B9%E6%80%A7/"/>
      <url>/2022/02/22/Java8%E6%96%B0%E7%89%B9%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h1><p>举例：</p><p>有一个<code>employee</code>实例，拥有字段</p><pre class=" language-java"><code class="language-java">String name<span class="token punctuation">;</span>Integer age<span class="token punctuation">;</span>Integer salary<span class="token punctuation">;</span></code></pre><p>假如这里有3个人，信息对应字段</p><p>①张三，18，4000；</p><p>②李四，25，3000；</p><p>③王五，35，5999；</p><p>我们要删选出年龄大于20岁的人。</p><p>在JAVA8之前，我们可以使用两种方法：</p><p><strong>1、策略设计模式</strong></p><p>定义一个接口<code>MyPredicate</code></p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MyPredict</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span>T t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    </code></pre><p>测试代码中申明方法，这个方法的参数有一个List<code>employees</code>（此时只是虚拟)，<code>MyPredicate mp</code>。</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> <span class="token function">filterEmployee</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> employees<span class="token punctuation">,</span> MyPredicate<span class="token operator">&lt;</span>Employee<span class="token operator">></span> mp<span class="token punctuation">)</span> <span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Employee employee <span class="token operator">:</span> employees<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> list<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>此方法中调用了接口mp中的方法test，但此时test并未写死，这里就是策略设计模式的重点，再写一个类实现<code>MyPredicate</code>。</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterByAge</span> <span class="token keyword">implements</span> <span class="token class-name">MyPredicate</span><span class="token operator">&lt;</span>Employee<span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span>Employee employee<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> employee<span class="token punctuation">.</span>age <span class="token operator">></span> <span class="token number">20</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>在类中写明筛选条件<code>age &gt; 20</code>，这样就可以避免写很多很多类。</p><hr><p><strong>2、匿名内部类</strong></p><p>上面的方式虽然减少了很多繁琐的类，但仍然要写有些类去实现接口，这里可以使用匿名内部类继续简化。</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 筛选出年龄大于20的人</span><span class="token comment" spellcheck="true">//  测试匿名内部类</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> list <span class="token operator">=</span> <span class="token function">filterEmployee</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MyPredicate</span><span class="token operator">&lt;</span>Employee<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span>Employee employee<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> employee<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">20</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>Employee employee <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre><p>匿名内部类简化了很多类的编写，但是new后面括号一系列的代码依旧很繁琐，可以继续简化</p><hr><p><strong>3、lambda表达式</strong></p><p>匿名内部类中</p><p><img src="/2022/02/22/Java8%E6%96%B0%E7%89%B9%E6%80%A7/image-20220222235131499.png" alt="image-20220222235131499"></p><p>有用的关键代码只有框中那一句，则可用lambda表达式简化</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 测试lambda表达式</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> list <span class="token operator">=</span> <span class="token function">filterEmployee</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> e<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Employee employee <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><p><strong>4、流Stream api</strong></p><p>终极简化之JAVA8流</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>e<span class="token operator">-</span><span class="token operator">></span>e<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h1><p><img src="/2022/02/22/Java8%E6%96%B0%E7%89%B9%E6%80%A7/image-20220223010018539.png" alt="image-20220223010018539"></p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 1、</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Collections<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 如果年龄相同按姓名比</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Employee employee <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><h1 id="stream-Api"><a href="#stream-Api" class="headerlink" title="stream Api"></a>stream Api</h1><p><strong>stream操作的三个步骤：</strong></p><p>1、创建stream</p><p>一个数据源（如：集合、数组），获取一个流</p><p>2、中间操作</p><p>一个中间操作链，对数据源的数据进行处理</p><p>3、终止操作</p><p>一个终止操作，执行中间操作链，并产生结果</p><p><img src="/2022/02/22/Java8%E6%96%B0%E7%89%B9%E6%80%A7/image-20220224005635245.png" alt="stream流过程"></p><hr><p><strong>一、创建流</strong></p><p>①通过<code>Collection </code>系列集合提供的<code>stream()</code>或<code>parallelStream()</code></p><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>String<span class="token operator">></span> stream <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>②通过<code>Arrays</code>类中的<code>stream()</code>方法，创建数组流</p><pre class=" language-java"><code class="language-java">Integer<span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Integer<span class="token operator">></span> steam <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>    </code></pre><p>③通过<code>Stream</code>类中的<code>of()</code>方法</p><pre class=" language-java"><code class="language-java">Stream<span class="token operator">&lt;</span>String<span class="token operator">></span> stream <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"aa"</span><span class="token punctuation">,</span><span class="token string">"bb"</span><span class="token punctuation">,</span><span class="token string">"cc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>④创建无限流</p><pre><code>// 迭代</code></pre><hr><p><strong>二、中间操作</strong></p><p>1、筛选</p><p>①filter</p><p>②limit</p><p>③skit</p><p>④distinct：筛选，通过流生成元素的hashCode()和equals()去除重复元素</p><p>2、映射</p><p>①map：接收lambda，将元素转换成其他形式或提取信息，接收一个函数作为参数，该函数会被应用到每个元素上，并将其映射成一个新的元素。</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 把字符串改写成大写再输出</span><span class="token comment" spellcheck="true">// 提取employee中的名字</span></code></pre><p>②flatMap：接收一个函数作为参数，将流中的每个值都换成另一个流，然后把所有流链接成一个流</p><p>3、排序</p><p>①sorted：自然排序</p><p>②sorted(Comparator com)：定制排序</p>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>谷粒学院学习记录</title>
      <link href="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="项目模块说明"><a href="#项目模块说明" class="headerlink" title="项目模块说明"></a>项目模块说明</h1><table><thead><tr><th>模块</th><th>子模块</th><th>子子模块</th><th align="center">说明</th></tr></thead><tbody><tr><td>guli-parent</td><td></td><td></td><td align="center">在线教学根目录（父工程），管理四个子模块</td></tr><tr><td></td><td>canal-client</td><td></td><td align="center">canal数据库表同步模块（统计同步数据）</td></tr><tr><td></td><td>common</td><td></td><td align="center">公共模块父节点</td></tr><tr><td></td><td></td><td>common-util</td><td align="center">工具类模块，所有模块都可以依赖于它</td></tr><tr><td></td><td></td><td>service-base</td><td align="center">service服务的base包，包含service服务的公共配置类，所有service模块依赖于它</td></tr><tr><td></td><td></td><td>spring-security</td><td align="center">认证与授权模块，需要认证授权的service服务依赖于它</td></tr><tr><td></td><td>infrastructure</td><td></td><td align="center">基础服务模块父节点</td></tr><tr><td></td><td></td><td>api-gateway</td><td align="center">api网关服务</td></tr><tr><td></td><td>service</td><td></td><td align="center">api接口服务父节点</td></tr><tr><td></td><td></td><td>service-acl</td><td align="center">用户权限管理api接口服务（用户管理、角色管理和权限管理等）</td></tr><tr><td></td><td></td><td>service-cms</td><td align="center">cms api接口服务</td></tr><tr><td></td><td></td><td>service-edu</td><td align="center">教学相关api接口服务</td></tr><tr><td></td><td></td><td>service-msm</td><td align="center">短信api接口服务</td></tr><tr><td></td><td></td><td>service-order</td><td align="center">订单相关api接口服务</td></tr></tbody></table><h1 id="day1"><a href="#day1" class="headerlink" title="day1"></a>day1</h1><h2 id="1、前后端分离概念"><a href="#1、前后端分离概念" class="headerlink" title="1、前后端分离概念"></a>1、前后端分离概念</h2><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220220184914445.png" alt="image-20220220184914445"></p><h2 id="2、讲师管理模块（后端）"><a href="#2、讲师管理模块（后端）" class="headerlink" title="2、讲师管理模块（后端）"></a>2、讲师管理模块（后端）</h2><p>讲师crud操作</p><h3 id="①创建数据库"><a href="#①创建数据库" class="headerlink" title="①创建数据库"></a>①创建数据库</h3><h3 id="②创建项目结构"><a href="#②创建项目结构" class="headerlink" title="②创建项目结构"></a>②创建项目结构</h3><h4 id="·创建父工程（guli-parent）"><a href="#·创建父工程（guli-parent）" class="headerlink" title="·创建父工程（guli_parent）"></a>·创建父工程（guli_parent）</h4><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220220200510699.png" alt="image-20220220200510699"></p><h5 id="删除-src-目录"><a href="#删除-src-目录" class="headerlink" title="删除 src 目录"></a>删除 src 目录</h5><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/fbd1cb11-4103-4506-b6f3-ebe3f81a5d71.png" alt="img"></p><h5 id="修改版本为-：2-2-1-RELEASE"><a href="#修改版本为-：2-2-1-RELEASE" class="headerlink" title="修改版本为 ：2.2.1.RELEASE"></a>修改版本为 ：2.2.1.RELEASE</h5><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/1c2115d0-3dd7-4cb9-b498-e845c0266dd3.png" alt="img"></p><h5 id="节点artifactId后面添加-pom类型"><a href="#节点artifactId后面添加-pom类型" class="headerlink" title="节点artifactId后面添加 pom类型"></a>节点artifactId后面添加 pom类型</h5><pre><code>&lt;artifactId&gt;guli-parent&lt;/artifactId&gt;&lt;packaging&gt;pom&lt;/packaging&gt;</code></pre><h5 id="在pom-xml中添加依赖的版本"><a href="#在pom-xml中添加依赖的版本" class="headerlink" title="在pom.xml中添加依赖的版本"></a>在pom.xml中添加依赖的版本</h5><p>删除pom.xml中的**<code>&lt;dependencies&gt;内容</code>**</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- 以下内容删除 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><p>添加 <properties>确定依赖的版本</properties></p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>guli.version</span><span class="token punctuation">></span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>guli.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mybatis-plus.version</span><span class="token punctuation">></span></span>3.0.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mybatis-plus.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>velocity.version</span><span class="token punctuation">></span></span>2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>velocity.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swagger.version</span><span class="token punctuation">></span></span>2.7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swagger.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aliyun.oss.version</span><span class="token punctuation">></span></span>2.8.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aliyun.oss.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jodatime.version</span><span class="token punctuation">></span></span>2.10.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jodatime.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poi.version</span><span class="token punctuation">></span></span>3.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>poi.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commons-fileupload.version</span><span class="token punctuation">></span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>commons-fileupload.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commons-io.version</span><span class="token punctuation">></span></span>2.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>commons-io.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpclient.version</span><span class="token punctuation">></span></span>4.5.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>httpclient.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jwt.version</span><span class="token punctuation">></span></span>0.7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jwt.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aliyun-java-sdk-core.version</span><span class="token punctuation">></span></span>4.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aliyun-java-sdk-core.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aliyun-sdk-oss.version</span><span class="token punctuation">></span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aliyun-sdk-oss.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aliyun-java-sdk-vod.version</span><span class="token punctuation">></span></span>2.15.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aliyun-java-sdk-vod.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aliyun-java-vod-upload.version</span><span class="token punctuation">></span></span>1.4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aliyun-java-vod-upload.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aliyun-sdk-vod-upload.version</span><span class="token punctuation">></span></span>1.4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aliyun-sdk-vod-upload.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fastjson.version</span><span class="token punctuation">></span></span>1.2.28<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fastjson.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gson.version</span><span class="token punctuation">></span></span>2.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gson.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>json.version</span><span class="token punctuation">></span></span>20170516<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>json.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commons-dbutils.version</span><span class="token punctuation">></span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>commons-dbutils.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canal.client.version</span><span class="token punctuation">></span></span>1.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canal.client.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>docker.image.prefix</span><span class="token punctuation">></span></span>zx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>docker.image.prefix</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cloud-alibaba.version</span><span class="token punctuation">></span></span>0.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cloud-alibaba.version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span></code></pre><p>配置 <dependencymanagement> 锁定依赖的版本</dependencymanagement></p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--Spring Cloud--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>Hoxton.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${cloud-alibaba.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--mybatis-plus 持久层--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${mybatis-plus.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- velocity 模板引擎, Mybatis Plus 代码生成器需要 --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.velocity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>velocity-engine-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${velocity.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--swagger--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.springfox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springfox-swagger2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${swagger.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--swagger ui--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.springfox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springfox-swagger-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${swagger.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--aliyunOSS--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun.oss<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-sdk-oss<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${aliyun.oss.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--日期时间工具--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>joda-time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>joda-time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${jodatime.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--xls--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.poi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>poi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${poi.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--xlsx--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.poi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>poi-ooxml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${poi.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--文件上传--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${commons-fileupload.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--commons-io--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${commons-io.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--httpclient--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.httpcomponents<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>httpclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${httpclient.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.google.code.gson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>gson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${gson.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- JWT --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.jsonwebtoken<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jjwt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${jwt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--aliyun--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-java-sdk-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${aliyun-java-sdk-core.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun.oss<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-sdk-oss<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${aliyun-sdk-oss.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-java-sdk-vod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${aliyun-java-sdk-vod.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-java-vod-upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${aliyun-java-vod-upload.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-sdk-vod-upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${aliyun-sdk-vod-upload.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${fastjson.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${json.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-dbutils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-dbutils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${commons-dbutils.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>canal.client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${canal.client.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span></code></pre><h4 id="·创建子模块（service）"><a href="#·创建子模块（service）" class="headerlink" title="·创建子模块（service）"></a>·创建子模块（service）</h4><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220221101104015.png" alt="service模块"></p><h5 id="添加packaing"><a href="#添加packaing" class="headerlink" title="添加packaing"></a>添加packaing</h5><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220221101333849.png" alt="packaing"></p><h5 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a><strong>添加依赖</strong></h5><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-ribbon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--hystrix依赖，主要是用  @HystrixCommand --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--服务注册--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--服务调用--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--mybatis-plus--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--mysql--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- velocity 模板引擎, Mybatis Plus 代码生成器需要 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.velocity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>velocity-engine-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--swagger--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.springfox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springfox-swagger2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.springfox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springfox-swagger-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--lombok用来简化实体类：需要安装lombok插件--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--xls--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.poi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>poi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.poi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>poi-ooxml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--httpclient--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.httpcomponents<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>httpclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--commons-io--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--gson--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.google.code.gson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>gson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre><h4 id="·创建子子模块（service-edu"><a href="#·创建子子模块（service-edu" class="headerlink" title="·创建子子模块（service_edu)"></a>·创建子子模块（service_edu)</h4><h5 id="在service下创建模块service-edu"><a href="#在service下创建模块service-edu" class="headerlink" title="在service下创建模块service_edu"></a>在service下创建模块service_edu</h5><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220221101715579.png" alt="service_edu"></p><h5 id="在service-edu下的resources创建application-yml文件"><a href="#在service-edu下的resources创建application-yml文件" class="headerlink" title="在service_edu下的resources创建application.yml文件"></a>在service_edu下的resources创建application.yml文件</h5><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220221101828841.png" alt="application.yml"></p><h3 id="③代码生成器"><a href="#③代码生成器" class="headerlink" title="③代码生成器"></a>③代码生成器</h3><p>把代码生成器的代码放在test中，在项目完成后打包不会打包。</p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/image-20220221103149431.png" alt="image-20220221103149431"></p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>liran<span class="token punctuation">.</span>demo<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>DbType<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>IdType<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>AutoGenerator<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>DataSourceConfig<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>GlobalConfig<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>PackageConfig<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>StrategyConfig<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>rules<span class="token punctuation">.</span>DateType<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>rules<span class="token punctuation">.</span>NamingStrategy<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** * @author * @since 2018/12/13 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CodeGenerator</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 1、创建代码生成器</span>        AutoGenerator mpg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AutoGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 2、全局配置</span>        GlobalConfig gc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        String projectPath <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"user.dir"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setOutputDir</span><span class="token punctuation">(</span><span class="token string">"D:\\java练手项目\\guli_parent\\service\\service_edu"</span> <span class="token operator">+</span> <span class="token string">"/src/main/java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setAuthor</span><span class="token punctuation">(</span><span class="token string">"BurnLee"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//生成后是否打开资源管理器</span>        gc<span class="token punctuation">.</span><span class="token function">setFileOverride</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//重新生成时文件是否覆盖</span>        gc<span class="token punctuation">.</span><span class="token function">setServiceName</span><span class="token punctuation">(</span><span class="token string">"%sService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//去掉Service接口的首字母I</span>        gc<span class="token punctuation">.</span><span class="token function">setIdType</span><span class="token punctuation">(</span>IdType<span class="token punctuation">.</span>ID_WORKER_STR<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//主键策略</span>        gc<span class="token punctuation">.</span><span class="token function">setDateType</span><span class="token punctuation">(</span>DateType<span class="token punctuation">.</span>ONLY_DATE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义生成的实体类中日期类型</span>        gc<span class="token punctuation">.</span><span class="token function">setSwagger2</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//开启Swagger2模式</span>        mpg<span class="token punctuation">.</span><span class="token function">setGlobalConfig</span><span class="token punctuation">(</span>gc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 3、数据源配置</span>        DataSourceConfig dsc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/guli?serverTimezone=GMT%2B8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setDriverName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"3155530"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setDbType</span><span class="token punctuation">(</span>DbType<span class="token punctuation">.</span>MYSQL<span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dsc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 4、包配置</span>        PackageConfig pc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PackageConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pc<span class="token punctuation">.</span><span class="token function">setModuleName</span><span class="token punctuation">(</span><span class="token string">"eduService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//模块名</span>        pc<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token string">"com.liran"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pc<span class="token punctuation">.</span><span class="token function">setController</span><span class="token punctuation">(</span><span class="token string">"controller"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pc<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span><span class="token string">"entity"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pc<span class="token punctuation">.</span><span class="token function">setService</span><span class="token punctuation">(</span><span class="token string">"service"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pc<span class="token punctuation">.</span><span class="token function">setMapper</span><span class="token punctuation">(</span><span class="token string">"mapper"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setPackageInfo</span><span class="token punctuation">(</span>pc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 5、策略配置</span>        StrategyConfig strategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrategyConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        strategy<span class="token punctuation">.</span><span class="token function">setInclude</span><span class="token punctuation">(</span><span class="token string">"edu_teacher"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        strategy<span class="token punctuation">.</span><span class="token function">setNaming</span><span class="token punctuation">(</span>NamingStrategy<span class="token punctuation">.</span>underline_to_camel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数据库表映射到实体的命名策略</span>        strategy<span class="token punctuation">.</span><span class="token function">setTablePrefix</span><span class="token punctuation">(</span>pc<span class="token punctuation">.</span><span class="token function">getModuleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//生成实体时去掉表前缀</span>        strategy<span class="token punctuation">.</span><span class="token function">setColumnNaming</span><span class="token punctuation">(</span>NamingStrategy<span class="token punctuation">.</span>underline_to_camel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数据库表字段映射到实体的命名策略</span>        strategy<span class="token punctuation">.</span><span class="token function">setEntityLombokModel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// lombok 模型 @Accessors(chain = true) setter链式操作</span>        strategy<span class="token punctuation">.</span><span class="token function">setRestControllerStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//restful api风格控制器</span>        strategy<span class="token punctuation">.</span><span class="token function">setControllerMappingHyphenStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//url中驼峰转连字符</span>        mpg<span class="token punctuation">.</span><span class="token function">setStrategy</span><span class="token punctuation">(</span>strategy<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 6、执行</span>        mpg<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>谷粒学院学习总结</title>
      <link href="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
      <url>/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="项目模块说明"><a href="#项目模块说明" class="headerlink" title="项目模块说明"></a>项目模块说明</h1><table><thead><tr><th align="left">Service_edu</th><th align="left">后台管理模块/8001</th></tr></thead><tbody><tr><td align="left"><strong>Service_cms</strong></td><td align="left"><strong>首页数据Banner显示模块/8004</strong></td></tr><tr><td align="left"><strong>Service_msm</strong></td><td align="left"><strong>阿里云短信服务模块/8005</strong></td></tr><tr><td align="left"><strong>Service_oss</strong></td><td align="left"><strong>阿里云图片云存储服务模块/8002</strong></td></tr><tr><td align="left"><strong>Service_vod</strong></td><td align="left"><strong>阿里云视频点播服务/8003</strong></td></tr><tr><td align="left"><strong>Service_ucenter</strong></td><td align="left"><strong>登录和注册模块（8160端口 =&gt; 不能改）</strong></td></tr><tr><td align="left"><strong>Service_order</strong></td><td align="left"><strong>微信支付模块/8007</strong></td></tr><tr><td align="left"><strong>Service_statistics</strong></td><td align="left"><strong>统计分析模块/8008</strong></td></tr><tr><td align="left"><strong>canal-client</strong></td><td align="left"><strong>数据同步模块/8009</strong></td></tr><tr><td align="left"><strong>Api_gateway</strong></td><td align="left"><strong>网关模块/8010</strong></td></tr><tr><td align="left"><strong>Service-acl</strong></td><td align="left"><strong>权限管理模块/8011</strong></td></tr></tbody></table><table><thead><tr><th align="left">Guli_parent</th><th align="left">后端代码（前后台）</th></tr></thead><tbody><tr><td align="left"><strong>Guli_vue</strong></td><td align="left"><strong>后台前端代码</strong></td></tr><tr><td align="left"><strong>Guli_ftont</strong></td><td align="left"><strong>前台前端代码</strong></td></tr></tbody></table><h1 id="项目功能点"><a href="#项目功能点" class="headerlink" title="项目功能点"></a>项目功能点</h1><h2 id="一、后台管理系统功能"><a href="#一、后台管理系统功能" class="headerlink" title="一、后台管理系统功能"></a>一、后台管理系统功能</h2><h3 id="1、登录注册功能"><a href="#1、登录注册功能" class="headerlink" title="1、登录注册功能"></a><strong>1、登录注册功能</strong></h3><ul><li>整合SpringSecurity框架</li></ul><h3 id="2、权限管理功能"><a href="#2、权限管理功能" class="headerlink" title="2、权限管理功能"></a><strong>2、权限管理功能</strong></h3><ul><li>菜单管理：CRUD</li><li>角色管理：CRUD、批量删除、为角色分配菜单</li><li>用户管理：CRUD、为用户分配角色</li><li>表和表的关系：使用五张表【用户表、角色表、菜单表、用户角色中间表、角色菜单中间表】</li></ul><h3 id="3、讲师管理模块"><a href="#3、讲师管理模块" class="headerlink" title="3、讲师管理模块"></a>3、讲师管理模块</h3><ul><li>多条件分页查询（将条件值封装进对象，将对象传递到接口中）</li><li>讲师列表的CRUD</li><li>讲师头像上传（阿里云OSS）</li></ul><h3 id="4、课程分类模块"><a href="#4、课程分类模块" class="headerlink" title="4、课程分类模块"></a>4、课程分类模块</h3><ul><li>添加课程分类（读取Excel里的课程数据，添加到数据库中，通过EasyExcel）</li><li>课程分类列表（使用树形结构显示课程分类列表）</li></ul><h3 id="5、课程管理模块"><a href="#5、课程管理模块" class="headerlink" title="5、课程管理模块"></a>5、课程管理模块</h3><ul><li>课程列表功能（查询所有课程并分页显示）</li><li>多条件分页查询（将条件值封装进对象，将对象传递到接口中）</li><li>课程列表的CRUD</li><li>添加课程（课程发布的流程：填写课程基本信息、添加课程大纲（章节和小节）、课程信息确认、最终发布）</li><li>添加小节时，可以上传课程视频（阿里云视频点播功能）</li><li><strong>课程如何判断是否已经发布？</strong></li></ul><p> 通过给数据库设置字段status来判断他现在的状态（前端返回的课程 id 来修改课程的 status 并在前端显示）</p><ul><li><strong>课程添加过程中，中途把课程停止添加，重新去添加新的课程，如何找到之前没有发布完成的课程，继续发布呢？</strong></li></ul><p> 到课程列表中选择未发布的课程状态，来查询，里面会有编辑看课程信息，然后去继续编辑发布完成</p><h3 id="6、统计分析模块"><a href="#6、统计分析模块" class="headerlink" title="6、统计分析模块"></a>6、统计分析模块</h3><p>生成统计数据（选择指定日期生成当天的数据）</p><p>统计数据的图标显示（Echart）</p><p>整合定时任务</p><h3 id="7、Canal数据同步"><a href="#7、Canal数据同步" class="headerlink" title="7、Canal数据同步"></a>7、Canal数据同步</h3><p>Canal是阿里巴巴旗下的一款开源项目，纯java开发，支持MySql数据库</p><p>使用MySql的binlog写入功能以及Canal实现数据同步</p><h3 id="8、GateWay网关"><a href="#8、GateWay网关" class="headerlink" title="8、GateWay网关"></a>8、GateWay网关</h3><p>前期使用Nginx作为网关，后期使用GateWay作为网关（需要在Nacos注册中心进行注册）</p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/gateway.png" alt="网关图解"></p><p><strong>网关图解</strong></p><h3 id="9、首页Banner模块-待做"><a href="#9、首页Banner模块-待做" class="headerlink" title="9、首页Banner模块(待做)"></a>9、首页Banner模块(待做)</h3><p>添加和删除</p><h3 id="10、订单管理模块-待做"><a href="#10、订单管理模块-待做" class="headerlink" title="10、订单管理模块(待做)"></a>10、订单管理模块(待做)</h3><p>订单表的CRUD</p><h2 id="二、前台系统功能"><a href="#二、前台系统功能" class="headerlink" title="二、前台系统功能"></a>二、前台系统功能</h2><h3 id="1、首页数据显示"><a href="#1、首页数据显示" class="headerlink" title="1、首页数据显示"></a>1、首页数据显示</h3><p>显示首页Banner功能（放入Redis进行缓存）<br>显示热门课程（放入Redis进行缓存）<br>显示名师（放入Redis进行缓存）</p><h3 id="2、注册功能"><a href="#2、注册功能" class="headerlink" title="2、注册功能"></a>2、注册功能</h3><p>完整使用的博客地址：<a href="https://laughingtiger.gitee.io/2022/01/25/zai-xiang-mu-zhong-zheng-he-teng-xun-yun-duan-xin-fu-wu/">https://laughingtiger.gitee.io/2022/01/25/zai-xiang-mu-zhong-zheng-he-teng-xun-yun-duan-xin-fu-wu/</a></p><p>获取手机验证码（腾讯云短信功能）</p><h3 id="3、登录注册功能"><a href="#3、登录注册功能" class="headerlink" title="3、登录注册功能"></a>3、登录注册功能</h3><h4 id="3-1、普通登录"><a href="#3-1、普通登录" class="headerlink" title="3.1、普通登录"></a>3.1、普通登录</h4><ul><li><strong>你项目使用的是SSO（单点登录）实现登录的吗？是怎么实现的？</strong></li></ul><p> 我使用的是token的方式，用户登录成功后，根据相关的信息生成token，然后返回给cookie，他每次访问的时候都会从请求头中获取token的值，并解析获取用信息，判断是否已经登录</p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E4%BB%8B%E7%BB%8D.png" alt="单点登录三种方式介绍"></p><p><strong>单点登录三种方式介绍</strong></p><ul><li><p><strong>你使用什么方式生成Token的？</strong></p><p>使用Jwt生成token字符串</p></li><li><p><strong>Jwt有几部分组成，分别为什么？</strong></p><p>三部分组成，分别为：</p><p>jwt头：JWT头部分是一个描述JWT元数据的JSON对象</p><p>有效载荷（用户信息）：是JWT的主体内容部分，也是一个JSON对象，包含需要传递的数据。 JWT指定七个默认字段供选择</p><p>签名哈希（防伪标志）：是对上面两部分数据签名，通过指定的算法生成哈希，以确保数据不会被篡改。</p></li><li><p><strong>你登录功能的实现流程是什么（重要）？</strong></p><p>1、前端调用登录的接口，后端将用户信息封装成登录对象，登录成功会返回一个token字符串；</p><p>2、前端获取后把token字符串放到cookie中；</p><p>3、前端创建请求拦截器进行判断，如果cookie里包含token字符串，把token放到header中；</p><p>4、前端再次调用接口获取用户信息（由于请求拦截器的存在，会将token放在请求中返回给后端），</p><p> 后端从header中取到token的值并查询用户信息返回给前端，然后前端在页面中进行显示</p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91.png" alt="登录逻辑"></p><p><strong>登录逻辑</strong></p></li></ul><h4 id="3-2、微信扫码登录"><a href="#3-2、微信扫码登录" class="headerlink" title="3.2、微信扫码登录"></a>3.2、微信扫码登录</h4><ul><li><p><strong>OAuth2是什么？</strong></p><p>只是一种解决方法，按照一种规则，但是具体是什么规则，没有规定。他是一种方案，但不是一种协议</p><p>主要解决两个问题：</p><p>1、开放系统间授权</p><p>2、分布式访问问题</p></li><li><p><strong>你是如何获取扫码人微信信息的？</strong></p><p>扫码后，微信会返回两个值code和state；</p><p>拿着这个code去请求微信的固定地址，获得两个值access_token访问凭证和openid（每个微信的唯一表示）；</p><p>然后拿着这两个再去请求微信的一个固定地址获取到扫码人的信息</p></li></ul><h4 id="3-3、用户注册"><a href="#3-3、用户注册" class="headerlink" title="3.3、用户注册"></a>3.3、用户注册</h4><ul><li><p><strong>用户注册的详细流程？</strong></p><p>前端填写信息后这些信息会发送到后端（验证码会存在Redis中）；</p><p>后端接收前端的请求参数并将数据封装成对象（用户昵称、手机号、密码、验证码），并进行参数校验（手机号、密码、验证码）；</p><p>校验成功后将用户信息加入数据库，前端根据返回的状态码判断是否注册成功，若成功则跳转到登录页面；</p></li></ul><h3 id="4、名师列表功能"><a href="#4、名师列表功能" class="headerlink" title="4、名师列表功能"></a>4、名师列表功能</h3><ul><li>名师列表分页显示</li></ul><h3 id="5、名师详情功能"><a href="#5、名师详情功能" class="headerlink" title="5、名师详情功能"></a>5、名师详情功能</h3><ul><li>点击某个讲师后显示讲师详情（讲师信息和主讲课程）</li></ul><h3 id="6、课程列表功能"><a href="#6、课程列表功能" class="headerlink" title="6、课程列表功能"></a>6、课程列表功能</h3><ul><li><p>点击首页课程后显示对应的八条课程（条件查询带分页）</p></li><li><p>具体细节：</p><p>前端封装查询对象VO（或修改查询对象VO），后端根据查询对象VO拼接查询条件，查询后返回分页数据，前端进行显示</p></li><li><p>点击一级分类，显示对应的二级分类，查询数据(二级联动效果)</p></li></ul><h3 id="7、课程详情功能"><a href="#7、课程详情功能" class="headerlink" title="7、课程详情功能"></a>7、课程详情功能</h3><ul><li>课程信息显示（包含基本信息、讲师信息、分类信息、大纲信息 =&gt; 自定义sql查询）</li></ul><h3 id="8、课程详细视频在线播放功能"><a href="#8、课程详细视频在线播放功能" class="headerlink" title="8、课程详细视频在线播放功能"></a>8、课程详细视频在线播放功能</h3><ul><li><p>点击具体某个小节后可在线播放</p></li><li><p>具体细节：</p><p>后端创建接口获取视频播放凭证；</p><p>前端进行页面跳转并进行播放。</p></li></ul><h3 id="9、课程评论功能"><a href="#9、课程评论功能" class="headerlink" title="9、课程评论功能"></a>9、课程评论功能</h3><ul><li><p>可对课程进行相应的评论</p></li><li><p>具体细节：</p><p>前端封装评论对象VO，后端接收查询对象VO;</p><p>后端创建分页查询课程评论的接口以及添加评论的接口；</p><p>前端调用接口获取数据并在页面进行显示</p></li></ul><h3 id="10、课程支付功能"><a href="#10、课程支付功能" class="headerlink" title="10、课程支付功能"></a>10、课程支付功能</h3><h4 id="一、后端的四个接口："><a href="#一、后端的四个接口：" class="headerlink" title="一、后端的四个接口："></a>一、后端的四个接口：</h4><ul><li>生成课程订单</li><li>根据订单id查询订单信息</li><li>生成微信支付二维码</li><li>查询订单支付状态</li></ul><h4 id="二、支付流程："><a href="#二、支付流程：" class="headerlink" title="二、支付流程："></a>二、支付流程：</h4><ul><li>课程详情页点击立即购买 =&gt; 获取订单号 =&gt; 跳转订单显示页面</li></ul><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/order.png" alt="获取订单号并跳转详情页"></p><p><strong>获取订单号并跳转详情页</strong></p><ul><li>订单详情页显示支付详情 =&gt; 点击去支付跳转到支付页面</li></ul><p>javascript</p><pre class=" language-javascript"><code class="language-javascript"><span class="token function">toPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>path<span class="token punctuation">:</span><span class="token string">'/pay/'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>orderNo<span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span></code></pre><ul><li><p>支付详情页面（页面渲染完成后每三秒去调用一次查询订单状态的方法 =&gt; 支付成功跳转到课程详情页面）</p><p>后端接口</p><p>java</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"根据订单号查询订单支付状态"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/queryPayStatus/{orderNo}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> ResultVo <span class="token function">queryPayStatus</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> String orderNo<span class="token punctuation">)</span><span class="token punctuation">{</span>        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>String<span class="token operator">></span> map <span class="token operator">=</span> tPayLogService<span class="token punctuation">.</span><span class="token function">queryPayStatus</span><span class="token punctuation">(</span>orderNo<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> ResultVo<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token string">"支付出错了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//如果返回的map不为空，通过map获取订单的状态</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"trade_state"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"SUCCESS"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//支付成功 => 添加记录到支付表里，并更新订单表的状态</span>            tPayLogService<span class="token punctuation">.</span><span class="token function">updateOrderStatus</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> ResultVo<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token string">"支付成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ResultVo<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token string">"支付中"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token number">25000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>前端创建响应拦截器（根据响应码进行页面跳转）</p><p>javascript</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// http response 拦截器</span>service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>  response <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//debugger</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">28004</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"response.data.resultCode是28004"</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// 返回 错误代码-1 清除ticket信息并跳转到登录页面</span>        <span class="token comment" spellcheck="true">//debugger</span>        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/login"</span>        <span class="token keyword">return</span>  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">20000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//25000：订单支付中，不做任何提示</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">!=</span> <span class="token number">25000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token function">Message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            message<span class="token punctuation">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'error'</span><span class="token punctuation">,</span>            type<span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>            duration<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1000</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> response<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  error <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//返回接口返回的错误信息</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>前端页面代码</p></li></ul><p>javascript</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">></span>  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"cart py-container"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>主内容<span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"checkout py-container pay"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"checkout-tit"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>h4 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fl tit-txt"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"success-icon"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span          <span class="token operator">></span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"success-info"</span>            <span class="token operator">></span>订单提交成功，请您及时付款！订单 号：<span class="token punctuation">{</span><span class="token punctuation">{</span>              payObj<span class="token punctuation">.</span>out_trade_no            <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span          <span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">></span>        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fr"</span>          <span class="token operator">></span><span class="token operator">&lt;</span>em <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"sui-lead"</span><span class="token operator">></span>应付金额：<span class="token operator">&lt;</span><span class="token operator">/</span>em          <span class="token operator">></span><span class="token operator">&lt;</span>em <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"orange money"</span><span class="token operator">></span>￥<span class="token punctuation">{</span><span class="token punctuation">{</span> payObj<span class="token punctuation">.</span>total_fee <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>em<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span        <span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"clearfix"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"checkout-steps"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fl weixin"</span><span class="token operator">></span>微信支付<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fl sao"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"red"</span><span class="token operator">></span>请使用微信扫一扫。<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fl code"</span><span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>img id<span class="token operator">=</span><span class="token string">"qrious"</span> src<span class="token operator">=</span><span class="token string">"~/assets/img/erweima.png"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span> <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>qriously value<span class="token operator">=</span><span class="token string">"weixin://wxpay/bizpayurl?pr=R7tnDpZ"</span><span class="token punctuation">:</span>size<span class="token operator">=</span><span class="token string">"338"</span><span class="token operator">/</span><span class="token operator">></span> <span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>code_url为二维码地址，这里需要通过一个vue的组件【qriously】显示<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>执行npm install vue<span class="token operator">-</span>qriously下载组件<span class="token operator">--</span><span class="token operator">></span>            <span class="token operator">&lt;</span>qriously <span class="token punctuation">:</span>value<span class="token operator">=</span><span class="token string">"payObj.code_url"</span> <span class="token punctuation">:</span>size<span class="token operator">=</span><span class="token string">"338"</span> <span class="token operator">/</span><span class="token operator">></span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"saosao"</span><span class="token operator">></span>              <span class="token operator">&lt;</span>p<span class="token operator">></span>请使用微信扫一扫<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>              <span class="token operator">&lt;</span>p<span class="token operator">></span>扫描二维码支付<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"clearfix"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"pay.html"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">></span><span class="token operator">></span> 其他支付方式<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span> <span class="token operator">--</span><span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">import</span> orderApi <span class="token keyword">from</span> <span class="token string">"@/api/order"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            orderNo<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            payObj<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>            timer1<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>orderNo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>orderNo<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//生成二维码</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createQRcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//生成二维码</span>        <span class="token function">createQRcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            orderApi<span class="token punctuation">.</span><span class="token function">createWxQRcode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>orderNo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>payObj <span class="token operator">=</span> resp<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">;</span>             <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">//根据订单号，查询支付的状态</span>        <span class="token function">queryPayStatus</span><span class="token punctuation">(</span>out_trade_no<span class="token punctuation">)</span> <span class="token punctuation">{</span>            orderApi<span class="token punctuation">.</span><span class="token function">getPayStatus</span><span class="token punctuation">(</span>out_trade_no<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//如果支付成功，清除定时器</span>                    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer1<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//提示</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                        type<span class="token punctuation">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>                        message<span class="token punctuation">:</span> <span class="token string">"支付成功!"</span><span class="token punctuation">,</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//跳转到课程详细页面观看视频</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">"/course/"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>payObj<span class="token punctuation">.</span>course_id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">//每个三秒去调用一次查询订单状态的方法</span>    <span class="token comment" spellcheck="true">//在页面渲染之后调用</span>    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>timer1 <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryPayStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>payObj<span class="token punctuation">.</span>out_trade_no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h4 id="三、你的微信支付功能的流程你说说？"><a href="#三、你的微信支付功能的流程你说说？" class="headerlink" title="三、你的微信支付功能的流程你说说？"></a>三、你的微信支付功能的流程你说说？</h4><ul><li>如果课程是收费课程，点击立即购买，生成课程订单；</li><li>点击订单页面中的去支付，生成微信支付二维码；</li><li>使用微信区扫秒二维码实现支付；</li><li>支付之后，每个3秒查询支付状态（是否支付成功），如果没有支付成功就等待；</li><li>如果支付成功之后，修改订单状态，向支付表中添加记录</li></ul><h1 id="项目技术点"><a href="#项目技术点" class="headerlink" title="项目技术点"></a>项目技术点</h1><h2 id="一、前后端分离开发"><a href="#一、前后端分离开发" class="headerlink" title="一、前后端分离开发"></a>一、前后端分离开发</h2><ul><li>项目开发模式为前后端分离开发</li><li>后端写接口，前端调后端接口得到数据并显示</li></ul><h2 id="二、项目使用【前端】技术"><a href="#二、项目使用【前端】技术" class="headerlink" title="二、项目使用【前端】技术"></a>二、项目使用【前端】技术</h2><h3 id="1、vue"><a href="#1、vue" class="headerlink" title="1、vue"></a>1、vue</h3><p>基本语法</p><ul><li>指令：</li></ul><pre><code>v-bind` 简写`：``v-model``v-for``v-if``v-html</code></pre><ul><li>生命周期：</li></ul><p><code>created()</code>，页面渲染之前<br><code>mounted()</code>，页面渲染之后</p><ul><li><p>绑定事件：</p><p><code>-v-on</code> 简写<code>@</code></p></li><li><p>ES6规范，通过babel转成ES5，框架自带</p></li></ul><h3 id="2、Element-UI"><a href="#2、Element-UI" class="headerlink" title="2、Element-UI"></a>2、Element-UI</h3><ul><li><code>Vue.js</code>的后台组件库，方便程序员进行页面快速布局和构建</li></ul><h3 id="3、Nodejs"><a href="#3、Nodejs" class="headerlink" title="3、Nodejs"></a>3、Nodejs</h3><ul><li>Js运行环境，不需要浏览器直接运行代码，模拟服务器效果(<code>java</code>需要<code>jdk</code> =&gt; <code>javascript</code> 需要 <code>Node.js</code>)</li></ul><h3 id="4、NPM"><a href="#4、NPM" class="headerlink" title="4、NPM"></a>4、NPM</h3><ul><li><p>包管理工具，类似Maven，管理前端<code>js</code>依赖</p></li><li><p>npm命令</p><p><code>npm init</code> 初始化</p><p><code>npm install</code> 依赖名</p></li></ul><h3 id="5、Babel"><a href="#5、Babel" class="headerlink" title="5、Babel"></a>5、Babel</h3><ul><li><p>转码器，ES6转换ES5代码（编写Es6代码 =&gt; 转化Es5代码后运行）</p></li><li><p>Es6代码浏览器兼容性很差</p></li></ul><h3 id="6、前端模块化"><a href="#6、前端模块化" class="headerlink" title="6、前端模块化"></a>6、前端模块化</h3><ul><li><p>通过一个页面或js去调用另外一个页面的js文件的方法</p></li><li><p>ES6语法不能在<code>node.js</code>中直接使用，需要通过babel编译成ES5再执行</p></li></ul><h3 id="7、后台系统用vue-admin-templete"><a href="#7、后台系统用vue-admin-templete" class="headerlink" title="7、后台系统用vue-admin-templete"></a>7、后台系统用vue-admin-templete</h3><ul><li>基于vue、Element-ui</li></ul><h3 id="8、前台系统用Nuxt"><a href="#8、前台系统用Nuxt" class="headerlink" title="8、前台系统用Nuxt"></a>8、前台系统用Nuxt</h3><ul><li><p>基于vue、3000端口</p></li><li><p>服务器渲染技术</p></li></ul><h3 id="9、Echarts"><a href="#9、Echarts" class="headerlink" title="9、Echarts"></a>9、Echarts</h3><ul><li>图表工具（百度捐给Aprch）</li></ul><h3 id="10、Webpaack"><a href="#10、Webpaack" class="headerlink" title="10、Webpaack"></a>10、Webpaack</h3><ul><li>webpack是一个前端资源加载/打包工具。根据模块的依赖关系进行静态分析，然后将这些模块按照指定的规则生成对应的静态资源</li></ul><h2 id="三、项目使用【后端】技术【1】"><a href="#三、项目使用【后端】技术【1】" class="headerlink" title="三、项目使用【后端】技术【1】"></a>三、项目使用【后端】技术【1】</h2><h3 id="1、微服务架构"><a href="#1、微服务架构" class="headerlink" title="1、微服务架构"></a>1、微服务架构</h3><ul><li>将项目拆分为独立的模块，每个模块都有其端口号，模块与模块之间没有关系，是通过远程调用实现</li></ul><h3 id="2、SpringBoot"><a href="#2、SpringBoot" class="headerlink" title="2、SpringBoot"></a>2、SpringBoot</h3><ul><li>SpringBoot是什么东西？</li></ul><pre><code>SpringBoot本质就是spring，只是快速构建Spring工程的脚手架</code></pre><p>细节：</p><ul><li><p>启动类包扫描机制</p><p>从外往里扫，也可以设置扫描机制，通过<code>@ComponentScan(包路径)</code></p></li><li><p>配置类</p></li></ul><p> SpringBoot配置文件类型</p><p> <code>.properties</code></p><p> <code>.yaml</code></p><ul><li>配置文件加载机制</li></ul><p> 先bootstrap<br>​ 再properties或yaml<br>​ 再对应的环境如：dev、test、prod</p><h3 id="3、SpringCloud"><a href="#3、SpringCloud" class="headerlink" title="3、SpringCloud"></a>3、SpringCloud</h3><h4 id="一、SpringCloud简介"><a href="#一、SpringCloud简介" class="headerlink" title="一、SpringCloud简介"></a>一、SpringCloud简介</h4><p>Spring Cloud是一系列框架的集合。它利用Spring Boot的开发便利性简化了分布式系统基础设施的开 发，如服务发现、服务注册、配置中心、消息总线、负载均衡、 熔断器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring并没有重复制造轮子，它只是将目前各家公司开发的比较 成熟、经得起实际考验的服务框架组合起来，通过SpringBoot风格进行再封装屏蔽掉了复杂的配置和实 现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包</p><h4 id="二、Spring-Cloud和Spring-Boot是什么关系"><a href="#二、Spring-Cloud和Spring-Boot是什么关系" class="headerlink" title="二、Spring Cloud和Spring Boot是什么关系"></a>二、Spring Cloud和Spring Boot是什么关系</h4><p>Spring Boot 是 Spring 的一套快速配置脚手架，可以基于Spring Boot 快速开发单个微服务，Spring Cloud是一个基于Spring Boot实现的开发工具；Spring Boot专注于快速、方便集成的单个微服务个 体，Spring Cloud关注全局的服务治理框架； Spring Boot使用了默认大于配置的理念，很多集成方案已 经帮你选择好了，能不配置就不配置，Spring Cloud很大的一部分是基于Spring Boot来实现，必须基 于Spring Boot开发。可以单独使用Spring Boot开发项目，但是Spring Cloud离不开 Spring Boot。</p><h4 id="三、Spring-Cloud相关基础服务组件"><a href="#三、Spring-Cloud相关基础服务组件" class="headerlink" title="三、Spring Cloud相关基础服务组件"></a>三、Spring Cloud相关基础服务组件</h4><p>基础服务组件</p><ul><li>服务发现——Netflix Eureka （Nacos）</li><li>服务调用——Netflix Feign</li><li>熔断器——Netflix Hystrix</li><li>服务网关——Spring Cloud GateWay</li><li>分布式配置——Spring Cloud Config （Nacos）</li><li>消息总线 —— Spring Cloud Bus （Nacos）</li><li>负载均衡 ——Ribbon</li></ul><p>项目中，使用阿里巴巴Nacos，代替springcloud一些组件</p><ul><li><p>Nacos</p><p>注册中心</p><p>配置中心</p></li><li><p>Feign</p><p>服务调用，一个微服务调用另外一个微服务，实现远程调用</p></li><li><p>Hystrix</p><p>熔断器</p></li><li><p>Gateway网关，之前是zuul / Nginx</p></li></ul><h4 id="三、SpringCloud版本"><a href="#三、SpringCloud版本" class="headerlink" title="三、SpringCloud版本"></a>三、SpringCloud版本</h4><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/springcloud.png" alt="springcloud版本号"></p><p><strong>springcloud版本号</strong></p><h3 id="4、MyBatisPlus"><a href="#4、MyBatisPlus" class="headerlink" title="4、MyBatisPlus"></a>4、MyBatisPlus</h3><ul><li>MyBatisPlus就是对MyBatis的增强，本身并没改变</li><li>自动填充</li><li>乐观锁</li><li>逻辑删除</li><li>性能分析</li><li>代码生成器</li></ul><h3 id="5、EasyExcel"><a href="#5、EasyExcel" class="headerlink" title="5、EasyExcel"></a>5、EasyExcel</h3><ul><li>阿里巴巴提供操作Excel工具，效率高，代码简洁</li></ul><h3 id="6、Swagger"><a href="#6、Swagger" class="headerlink" title="6、Swagger"></a>6、Swagger</h3><p>前后端分离开发交互文档</p><ul><li><p>给一些比较难以理解的属性或者接口上增加注释信息</p></li><li><p>接口文档实时更新</p></li><li><p>可以在线测试</p></li></ul><p>项目正式发布的时候需要关闭Swagger</p><h2 id="三、项目使用【后端】技术【2】"><a href="#三、项目使用【后端】技术【2】" class="headerlink" title="三、项目使用【后端】技术【2】"></a>三、项目使用【后端】技术【2】</h2><h3 id="1、SpringSecurity"><a href="#1、SpringSecurity" class="headerlink" title="1、SpringSecurity"></a>1、SpringSecurity</h3><h5 id="1-1、框架介绍"><a href="#1-1、框架介绍" class="headerlink" title="1.1、框架介绍"></a>1.1、框架介绍</h5><p>Spring 是一个非常流行和成功的 Java 应用开发框架。Spring Security 基于 Spring 框架，提供了一套Web 应用安全性的完整解决方案。</p><p>一般来说，Web 应用的安全性包括<code>用户认证</code>（Authentication）和<code>用户授权</code>（Authorization）两个部分。<br>（1）用户认证指的是：验证某个用户是否为系统中的合法主体，也就是说用户能否访问该系统。用户认证一般要求用户提供用户名和密码。系统通过校验用户名和密码来完成认证过程。<strong>说人话就是登录认证</strong><br>（2）用户授权指的是验证某个用户是否有权限执行某个操作。在一个系统中，不同用户所具有的权限是不同的。比如对一个文件来说，有的用户只能进行读取，而有的用户可以进行修改。一般来说，系统会为不同的用户分配不同的角色，而每个角色则对应一系列的权限。<strong>判断是普通用户还是管理员基于功能访问权限</strong></p><p>Spring Security其实就是用<code>filter</code>，多请求的路径进行过滤。<br>（1）如果是基于Session，那么Spring-security会对cookie里的sessionid进行解析，找到服务器存储的sesion信息，然后判断当前用户是否符合请求的要求。<br>（2）如果是token，则是解析出token，然后将当前请求加入到Spring-security管理的权限信息中去</p><h5 id="1-2、认证与授权实现思路"><a href="#1-2、认证与授权实现思路" class="headerlink" title="1.2、认证与授权实现思路"></a>1.2、认证与授权实现思路</h5><p>如果系统的模块众多，每个模块都需要就行授权与认证，所以我们<strong>选择基于token的形式进行授权与认证</strong>，用户根据用户名密码认证成功，然后获取当前用户角色的一系列权限值，并以<strong>用户名为key，权限列表为value的形式存入redis缓存中</strong>，根据用户名相关信息生成token返回，浏览器将token记录到cookie中，每次<strong>调用api接口都默认将token携带到header请求头中</strong>，Spring-security解析header头获取token信息，解析token获取当前用户名，根据用户名就可以从redis中获取权限列表，这样Spring-security就能够判断当前请求是否有权限访问</p><h5 id="1-3、认证与授权流程"><a href="#1-3、认证与授权流程" class="headerlink" title="1.3、认证与授权流程"></a>1.3、认证与授权流程</h5><ul><li><p>用户名密码认证成功，获取用户的权限值；并以用户名为Key，权限列表为Value的形式存储在Redis缓存中</p></li><li><p>根据用户名相关信息返回token，浏览器将token记录到cookie中，没请求都会在请求头中携带token</p></li><li><p>请求中，Spring-security会解析请求头中的token，并获取用户名；</p></li><li><p>根据用户名为key，去redis中获取value值权限列表</p></li><li><p>根据权限列表来判断用户是否有权限访问</p></li><li><p>图解</p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/SpringSecurity%E6%8E%88%E6%9D%83%E8%BF%87%E7%A8%8B.png" alt="SpringSecurity授权过程"></p><p><strong>SpringSecurity授权过程</strong></p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/SpringSecurity%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B.png" alt="SpringSecurity代码执行过程"></p><p><strong>SpringSecurity代码执行过程</strong></p></li></ul><h3 id="2、Redis"><a href="#2、Redis" class="headerlink" title="2、Redis"></a>2、Redis</h3><ul><li><p>首页数据通过Redis做缓存</p></li><li><p>注册（通过手机号）过程中将后端生成的验证码存储在redis中（设置5分钟过期）</p></li><li><p>Redis数据类型：</p><ul><li>Set</li><li>List</li><li>Hash</li><li>String</li><li>zset</li></ul></li><li><p><strong>Redis做缓存，什么样的数据适合使用Redis做缓存？</strong></p><p>经常访问，但不经常修改的数据；如主页</p></li></ul><h3 id="3、Nginx"><a href="#3、Nginx" class="headerlink" title="3、Nginx"></a>3、Nginx</h3><ul><li>方向代理服务器</li><li>请求转发、负载均衡、动静分离</li></ul><h3 id="4、OAuth2-JWT"><a href="#4、OAuth2-JWT" class="headerlink" title="4、OAuth2+JWT"></a>4、OAuth2+JWT</h3><ul><li>针对特定问题的解决方案</li><li>Jwt制定一种规则生成字符串，包括：三部分<ul><li>JWT头</li><li>有效载荷（用户信息）</li><li>防伪标志</li></ul></li></ul><h3 id="5、HttpClient"><a href="#5、HttpClient" class="headerlink" title="5、HttpClient"></a>5、HttpClient</h3><ul><li>模拟浏览器，不借助浏览器发送请求响应的工具</li><li>项目中应用场景：微信登录获取扫描人信息，微信支付查询支付状态</li></ul><h3 id="6、Cookie"><a href="#6、Cookie" class="headerlink" title="6、Cookie"></a>6、Cookie</h3><ul><li>特点：<ul><li>客户端技术，存储在浏览器、客户端中</li><li>每次发送请求，都会带着cookie</li><li>cookie有默认有效时长，默认关闭浏览器就不存在了，也可以设置时长，会话级别</li></ul></li></ul><h3 id="7、Cannal"><a href="#7、Cannal" class="headerlink" title="7、Cannal"></a>7、Cannal</h3><ul><li>Canal是阿里巴巴旗下的一款开源项目，纯java开发，支持MySql数据库</li><li>使用MySql的binlog写入功能以及Canal实现数据同步</li></ul><h3 id="8、Git"><a href="#8、Git" class="headerlink" title="8、Git"></a>8、Git</h3><ul><li>代码提交到远程的Git仓库中</li><li>进行项目的版本控制</li></ul><h3 id="9、Docker"><a href="#9、Docker" class="headerlink" title="9、Docker"></a>9、Docker</h3><ul><li>容器化技术</li><li>项目中使用的Mysql数据库和Redis均为容器构建</li></ul><h3 id="10、Jenkins"><a href="#10、Jenkins" class="headerlink" title="10、Jenkins"></a>10、Jenkins</h3><ul><li>自动化构建和部署</li></ul><h1 id="项目遇到的问题"><a href="#项目遇到的问题" class="headerlink" title="项目遇到的问题"></a>项目遇到的问题</h1><h2 id="1、前端问题—路由切换问题"><a href="#1、前端问题—路由切换问题" class="headerlink" title="1、前端问题—路由切换问题"></a>1、前端问题—路由切换问题</h2><ul><li>vue-router导航切换时，如果两个路由都渲染同一个组件，组件会重复使用，组件的生命周期钩子（created）不会再被调用，使得一些数据无法根据path的改变得到更新。</li><li>即多次路由跳转到同一个页面，created()只执行一次，后面在进行跳转时不会执行</li><li>解决方案：通过vue监听机制解决</li></ul><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/017fbbf1e05791c2e75b6e20010384b8.png" alt="image-20210311194336555"></p><p><strong>image-20210311194336555</strong></p><h2 id="2、前端问题—ES6模块化运行问题"><a href="#2、前端问题—ES6模块化运行问题" class="headerlink" title="2、前端问题—ES6模块化运行问题"></a>2、前端问题—ES6模块化运行问题</h2><p>ES6代码在浏览器的兼容性比较差，使用Babel把ES6代码转换为ES5的代码运行</p><h2 id="3、MyBatisPlus生成19位id值问题"><a href="#3、MyBatisPlus生成19位id值问题" class="headerlink" title="3、MyBatisPlus生成19位id值问题"></a>3、MyBatisPlus生成19位id值问题</h2><ul><li>问题描述：mp生成的ip值为19位，js处理数据类型值时，只处理16位</li><li>解决方案：将Long改为String类型</li></ul><h2 id="4、跨域问题"><a href="#4、跨域问题" class="headerlink" title="4、跨域问题"></a>4、跨域问题</h2><ul><li>问题描述：访问协议（http、https）、ip地址、端口号（9528、9001）</li></ul><p> 三者有任何一个不一样，就会产生跨域问题</p><ul><li>解决方案：</li></ul><p> 在controller添加注解@CrossOrigin<br>​ 通过Gateway网关解决，写一个配置类</p><p> 上面只能使用一个，不然会失效</p><p> 前端请求先经过网关 =&gt; 网关分发请求到对应接口 =&gt; 从接口获取数据并返回</p><h2 id="5、413问题"><a href="#5、413问题" class="headerlink" title="5、413问题"></a>5、413问题</h2><ul><li><p>问题描述：上传视频时，nginx有上传视频大小限制，如果超过，就会出现413错误</p><p>413描述：请求体过大</p></li><li><p>解决方案：在Nginx里配置客户端提交文件大小</p></li><li><p>响应状态码：413、跨域403、重定向302</p></li></ul><h2 id="6、Maven加载问题"><a href="#6、Maven加载问题" class="headerlink" title="6、Maven加载问题"></a>6、Maven加载问题</h2><ul><li>问题描述：Maven加载项目时，不会加载src-java文件夹里面的xml类型文件</li></ul><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/cuowu.png" alt="错误详情"></p><p><strong>错误详情</strong></p><ul><li><p>解决方案：</p><p>1、复制xml文件到target目录</p><p>2、在maven中配置，在properties配置文件中指定xml文件夹</p></li></ul><h2 id="7、前端字符串转化为js对象问题"><a href="#7、前端字符串转化为js对象问题" class="headerlink" title="7、前端字符串转化为js对象问题"></a>7、前端字符串转化为js对象问题</h2><ul><li><p>问题描述：登录过程中前端将用户信息放进cookie时，无法将js对象直接放进cookie里面</p></li><li><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/cuowu-164535401062915.png" alt="img"></p><p>​                                                                                            <strong>错误详情</strong></p></li><li><p>问题解决:</p><p>加入cookie时将 js对象转化为字符串</p><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/solution.png" alt="错误详情"></p><p><strong>错误详情</strong></p></li></ul><h1 id="项目面试总结"><a href="#项目面试总结" class="headerlink" title="项目面试总结"></a>项目面试总结</h1><h2 id="1、项目描述"><a href="#1、项目描述" class="headerlink" title="1、项目描述"></a>1、项目描述</h2><h3 id="项目具体描述"><a href="#项目具体描述" class="headerlink" title="项目具体描述"></a>项目具体描述</h3><p>1、项目总体介绍</p><p> 示例：在线教育项目采用B2C商业模块、使用微服务架构，前后端分离开发</p><p>2、项目功能模块（你做的模块）</p><p> 示例：在线教育项目分为前台系统（用户）和后台系统（管理员）</p><p> 前台系统包括：首页数据显示、课程列表和详情、课程支付、课程视频播放、微信登录、微信支付等待</p><p> 后台系统包括：权限管理、课程管理、统计分析、课程分类管理等等</p><p> 我在这个项目主要负责前台微信登录和支付，负责后台权限管理和统计分析</p><p>3、项目涉及的技术栈</p><p>示例：项目采用前后端分离开发</p><p> 前端技术包括：Vue、element-ui、nuxt、babel等等</p><p> 后端技术包括：SpringBoot、SpringCloud、EasyExcel、Redis等等</p><p> 第三方技术包含：阿里云OSS、视频点播、短信服务等等</p><h2 id="2、这是一个项目还是一个产品"><a href="#2、这是一个项目还是一个产品" class="headerlink" title="2、这是一个项目还是一个产品"></a>2、这是一个项目还是一个产品</h2><p>是一个产品；项目是从0开始搭建的</p><h2 id="3、测试要求"><a href="#3、测试要求" class="headerlink" title="3、测试要求"></a>3、测试要求</h2><p>首页和视频详情页qps单机qps要求 2000+</p><p>经常用每秒查询率来衡量域名系统服务器的机器的性能，其即为QPS</p><p>QPS = 并发量 / 平均响应时间</p><h2 id="4、企业中的项目（产品）开发流程"><a href="#4、企业中的项目（产品）开发流程" class="headerlink" title="4、企业中的项目（产品）开发流程"></a>4、企业中的项目（产品）开发流程</h2><p>一个中大型项目的开发流程：</p><p>1、需求调研（产品经理）</p><p>2、需求评审（产品/设计/前端/后端/测试/运营）</p><p>3、立项（项目经理、品管）</p><p>4、UI设计</p><p>5、开发</p><ul><li>架构、数据库设计、API文档、MOCK数据、开发、单元测试</li><li>前端</li><li>后端</li></ul><p>6、前后端联调</p><p>7、项目测试：黑盒白盒、压力测试（qps）、loadrunner</p><p>8、bug修改</p><p>9、回归测试</p><p>10、运维和部署上线</p><p>11、灰度发布</p><p>12、全量发布</p><p>13、维护和运营</p><h2 id="5、系统中都有那些角色？数据库是怎么设计的？"><a href="#5、系统中都有那些角色？数据库是怎么设计的？" class="headerlink" title="5、系统中都有那些角色？数据库是怎么设计的？"></a>5、系统中都有那些角色？数据库是怎么设计的？</h2><p>前台：会员（学员）</p><p>后台：系统管理员、运营人员</p><p>后台分库，每个微服务一个独立的数据库，使用了分布式id生成器</p><h2 id="6、视频点播是怎么实现的（流媒体你们是怎么实现的）"><a href="#6、视频点播是怎么实现的（流媒体你们是怎么实现的）" class="headerlink" title="6、视频点播是怎么实现的（流媒体你们是怎么实现的）"></a>6、视频点播是怎么实现的（流媒体你们是怎么实现的）</h2><p>我们直接接入了阿里云的云视频点播。云平台上的功能包括视频上传、转码、加密、智能审核、监控统计等。</p><p>还包括视频播放功能，阿里云还提供了一个视频播放器。</p><h2 id="7、前后端联调经常遇到的问题："><a href="#7、前后端联调经常遇到的问题：" class="headerlink" title="7、前后端联调经常遇到的问题："></a>7、前后端联调经常遇到的问题：</h2><p>1、请求方式post、get</p><p>2、json、x-wwww-form-urlencoded混乱的错误</p><p>3、后台必要的参数，前端省略了</p><p>4、数据类型不匹配</p><p>5、空指针异常</p><p>6、分布式系统中分布式id生成器生成的id 长度过大（19个字符长度的整数），js无法解析（js智能解析16个长度：2的53次幂）id策略改成 ID_WORKER_STR</p><h2 id="8、前后端分离项目中的跨域问题是如何解决的"><a href="#8、前后端分离项目中的跨域问题是如何解决的" class="headerlink" title="8、前后端分离项目中的跨域问题是如何解决的"></a>8、前后端分离项目中的跨域问题是如何解决的</h2><p>后端服务器配置：我们的项目中是通过Spring注解解决跨域的 @CrossOrigin</p><p>也可以使用nginx反向代理、httpClient、网关</p><h2 id="9、说说你做了哪个部分、遇到了什么问题、怎么解决的"><a href="#9、说说你做了哪个部分、遇到了什么问题、怎么解决的" class="headerlink" title="9、说说你做了哪个部分、遇到了什么问题、怎么解决的"></a>9、说说你做了哪个部分、遇到了什么问题、怎么解决的</h2><p>问题1：</p><p>分布式id生成器在前端无法处理，总是在后三位进行四舍五入。</p><p>分布式id生成器生成的id是19个字符的长度，前端javascript脚本对整数的处理能力只有2的53次方，也就是最多只能处理16个字符解决的方案是把id在程序中设置成了字符串的性质</p><p>问题2：</p><p>项目迁移到Spring-Cloud的时候，经过网关时，前端传递的cookie后端一只获取不了，看了cloud中zuul的源码，发现向下游传递数据的时候，zull默认过滤了敏感信息，将cookie过滤掉了解决的方案是在配置文件中将请求头的过滤清除掉，使cookie可以向下游传递</p><h2 id="10、分布式系统的id生成策略"><a href="#10、分布式系统的id生成策略" class="headerlink" title="10、分布式系统的id生成策略"></a>10、分布式系统的id生成策略</h2><p><a href="https://www.cnblogs.com/haoxinyue/p/5208136.html">https://www.cnblogs.com/haoxinyue/p/5208136.html</a></p><h2 id="11、项目组有多少人，人员如何组成？"><a href="#11、项目组有多少人，人员如何组成？" class="headerlink" title="11、项目组有多少人，人员如何组成？"></a>11、项目组有多少人，人员如何组成？</h2><p>不要太教条，说说人一任职务</p><h2 id="12、分布式系统的CAP原理"><a href="#12、分布式系统的CAP原理" class="headerlink" title="12、分布式系统的CAP原理"></a>12、分布式系统的CAP原理</h2><p><strong>CAP定理：</strong></p><p>指的是在一个分布式系统中，Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性），三者不可同时获得。<br><strong>一致性（C）：</strong>在分布式系统中的所有数据备份，在同一时刻是否同样的值。（所有节点在同一时间的数据完全一致，越多节点，数据同步越耗时）<br><strong>可用性（A）：</strong>负载过大后，集群整体是否还能响应客户端的读写请求。（服务一直可用，而且是正常响应时间）<br><strong>分区容错性（P）：</strong>分区容错性，就是高可用性，一个节点崩了，并不影响其它的节点（100个节点，挂了几个，不影响服务，越多机器越好）</p><p><strong>CA 满足的情况下，P不能满足的原因：</strong></p><p>数据同步(C)需要时间，也要正常的时间内响应(A)，那么机器数量就要少，所以P就不满足</p><p><strong>CP 满足的情况下，A不能满足的原因：</strong></p><p>数据同步(C)需要时间, 机器数量也多(P)，但是同步数据需要时间，所以不能再正常时间内响应，所以A就 不满足</p><p><strong>AP 满足的情况下，C不能满足的原因：</strong></p><p>机器数量也多(P)，正常的时间内响应(A)，那么数据就不能及时同步到其他节点，所以C不满足</p><p><strong>注册中心选择的原则：</strong></p><p>Zookeeper：CP设计，保证了一致性，集群搭建的时候，某个节点失效，则会进行选举行的leader，或者半数以上节点不可用，则无法提供服务，因此可用性没法满足Eureka：AP原则，无主从节点，一个节点挂了，自动切换其他节点可以使用，去中心化</p><p><strong>结论：</strong></p><p>分布式系统中P,肯定要满足，所以我们只能在一致性和可用性之间进行权衡</p><p>如果要求一致性，则选择zookeeper，如金融行业</p><p>如果要求可用性，则Eureka，如教育、电商系统</p><p>没有最好的选择，最好的选择是根据业务场景来进行架构设计</p><h2 id="13、前端渲染和后端渲染有什么区别"><a href="#13、前端渲染和后端渲染有什么区别" class="headerlink" title="13、前端渲染和后端渲染有什么区别"></a>13、前端渲染和后端渲染有什么区别</h2><p>前端渲染是返回 json 给前端，通过 javascript 将数据绑定到页面上</p><p>后端渲染是在服务器端将页面生成直接发送给服务器，有利于 SEO 的优化</p><h2 id="14、能画一下系统架构图吗"><a href="#14、能画一下系统架构图吗" class="headerlink" title="14、能画一下系统架构图吗"></a>14、能画一下系统架构图吗</h2><p><img src="/2022/02/20/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/56bf34b2936ea4c62ecd9d7d5215d877.png" alt="image-20210311201817399"></p><p><strong>image-20210311201817399</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多终端使用hexo上传</title>
      <link href="/2022/02/18/%E5%A4%9A%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8hexo%E4%B8%8A%E4%BC%A0/"/>
      <url>/2022/02/18/%E5%A4%9A%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8hexo%E4%B8%8A%E4%BC%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="一、git分支进行多终端工作"><a href="#一、git分支进行多终端工作" class="headerlink" title="一、git分支进行多终端工作"></a>一、git分支进行多终端工作</h1><p>现在我在我的笔记本上建立的hexo项目博客，回到家之后想在我的台式电脑上继续上传笔记，不知道怎么移动文件了，怎么办呢？</p><p>在网上查阅之后了解了几种办法，这里采用git的分支系统进行多终端工作，以后在某个设备上如果想要继续写东西，只要进行简单的配置和在github上同步下来文件，就可以无缝操作了。</p><h1 id="二、hexo机制"><a href="#二、hexo机制" class="headerlink" title="二、hexo机制"></a>二、hexo机制</h1><p>hexo的机制就是，<code>hexo d</code>会将编译后的文件上传部署到github（也就是.depoloy_git文件内的内容），使用来生成网页的静态资源并不包含源文件。</p><p><img src="/2022/02/18/%E5%A4%9A%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8hexo%E4%B8%8A%E4%BC%A0/image-20220218164144970.png" alt="main分支"></p><p>其他文件都没有上传到github</p><p><img src="/2022/02/18/%E5%A4%9A%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8hexo%E4%B8%8A%E4%BC%A0/image-20220218164301379.png" alt="所有源文件"></p><p>这里就可以利用github的分支管理，将源文件上传到另外一个分支即可。</p><h1 id="三、上传分支"><a href="#三、上传分支" class="headerlink" title="三、上传分支"></a>三、上传分支</h1><h2 id="①在github上新建一个hexo分支"><a href="#①在github上新建一个hexo分支" class="headerlink" title="①在github上新建一个hexo分支"></a>①在github上新建一个hexo分支</h2><p>如图</p><p><img src="/2022/02/18/%E5%A4%9A%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8hexo%E4%B8%8A%E4%BC%A0/image-20220218164507686.png" alt="hexo分支"></p><p>在本仓库的setting中选择默认分支为hexo分支，方便以后同步不用指定分支。</p><h2 id="②本地新建一个目录用于clone分支"><a href="#②本地新建一个目录用于clone分支" class="headerlink" title="②本地新建一个目录用于clone分支"></a>②本地新建一个目录用于clone分支</h2><p>在新建的文件夹中打开git bash</p><pre class=" language-js"><code class="language-js">git clone git@github<span class="token punctuation">.</span>com<span class="token punctuation">:</span>burnlee1994<span class="token operator">/</span>burnlee1994<span class="token punctuation">.</span>github<span class="token punctuation">.</span>io<span class="token punctuation">.</span>git</code></pre><p>将其克隆到本地，因为此前默认分支已经设置成了hexo，所以克隆的时候只克隆了hexo分支。</p><p>此时克隆到新建的文件夹的文件就是和main分支中一模一样的，就是.depoloy_git中的文件。</p><p>接下来在burnlee1994.github.io中，把除了.git的文件全部删掉。</p><p>然后将之前写的博客的全部源文件，除了.depoly_git，全部复制过来。</p><p>PS：这里需要注意的是，复制过来的源文件中又一个.gitignore，用来忽略一些不需要的文件，如果没有就新建一个，在里面写上如下，表示这类型的文件不需要被git</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">.</span>DS_StoreThumbs<span class="token punctuation">.</span>dbdb<span class="token punctuation">.</span>json<span class="token operator">*</span><span class="token punctuation">.</span>lognode_modules<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">/</span><span class="token punctuation">.</span>deploy<span class="token operator">*</span><span class="token operator">/</span></code></pre><p>注意，如果之前克隆过theme中的主题文件，那么应该把所有子文件下的.git文件夹删掉。</p><p>然后</p><pre class=" language-js"><code class="language-js">git add <span class="token punctuation">.</span>git commit <span class="token operator">-</span>m <span class="token string">"add branch"</span>git push</code></pre><p>这样就上传完了，可以去github上看看hexo分支有没有上传成功，其中的<code>node_modules</code>、<code>public</code>、<code>db.json</code>已经被忽略，但是没关系这些不需要上传，只需要输入命令安装即可。</p><p><img src="/2022/02/18/%E5%A4%9A%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8hexo%E4%B8%8A%E4%BC%A0/image-20220218165452738.png" alt="hexo分支的源文件"></p><h1 id="四、更换电脑操作"><a href="#四、更换电脑操作" class="headerlink" title="四、更换电脑操作"></a>四、更换电脑操作</h1><p>和之前的环境搭建一样</p><h2 id="①安装git"><a href="#①安装git" class="headerlink" title="①安装git"></a>①安装git</h2><h2 id="②设置git全局邮箱和用户名"><a href="#②设置git全局邮箱和用户名" class="headerlink" title="②设置git全局邮箱和用户名"></a>②设置git全局邮箱和用户名</h2><pre class=" language-js"><code class="language-js">git config <span class="token operator">--</span>global user<span class="token punctuation">.</span>name <span class="token string">"yourgithubname"</span>git config <span class="token operator">--</span>golbal user<span class="token punctuation">.</span>email <span class="token string">"youremail"</span></code></pre><h2 id="③设置ssh-key"><a href="#③设置ssh-key" class="headerlink" title="③设置ssh key"></a>③设置ssh key</h2><pre class=" language-js"><code class="language-js">ssh<span class="token operator">-</span>keygen <span class="token operator">-</span>t ras <span class="token operator">-</span>C <span class="token string">"youremail"</span></code></pre><p>生成成功后填入到github上</p><h2 id="④安装node-js"><a href="#④安装node-js" class="headerlink" title="④安装node.js"></a>④安装node.js</h2><h2 id="⑤安装hexo"><a href="#⑤安装hexo" class="headerlink" title="⑤安装hexo"></a>⑤安装hexo</h2><pre class=" language-js"><code class="language-js">npm install hexo cli <span class="token operator">-</span>g</code></pre><p>但是不需要初始化了，直接在任意文件夹下</p><pre class=" language-js"><code class="language-js">git clone git@<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre><p>然后进入到克隆的文件夹</p><pre class=" language-js"><code class="language-js">npm installnpm install hexo<span class="token operator">-</span>deployer<span class="token operator">-</span>git <span class="token operator">--</span>save</code></pre><p>生成、部署</p><pre class=" language-js"><code class="language-js">hexo ghexo d</code></pre><p>然后就可以开始写新博客了</p><h2 id="PS："><a href="#PS：" class="headerlink" title="PS："></a>PS：</h2><p>1.注意不要忘了每次写完都把源文件上传一下</p><pre class=" language-js"><code class="language-js">git add <span class="token punctuation">.</span>git commit <span class="token operator">-</span>m <span class="token string">"xxx"</span>git push</code></pre><p>2.如果是在已经编辑过的电脑上，已经有了克隆文件夹，那么每次只要和远端同步一下就可以了</p><pre class=" language-js"><code class="language-js">git pull</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用typora插入图片的坑</title>
      <link href="/2022/02/18/%E7%94%A8typora%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E7%9A%84%E5%9D%91/"/>
      <url>/2022/02/18/%E7%94%A8typora%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E7%9A%84%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<h3 id="不能使用命令"><a href="#不能使用命令" class="headerlink" title="不能使用命令"></a>不能使用命令</h3><pre class=" language-js"><code class="language-js">npm install hexo<span class="token operator">-</span>asset<span class="token operator">-</span>image <span class="token operator">--</span>save</code></pre><p>直接npm有bug</p><p>得使用：</p><pre class=" language-js"><code class="language-js">npm install https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>CodeFalling<span class="token operator">/</span>hexo<span class="token operator">-</span>asset<span class="token operator">-</span>image –<span class="token operator">-</span>save</code></pre><p>上面的bug会导致解析成html时路径出错</p><p><img src="/2022/02/18/%E7%94%A8typora%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E7%9A%84%E5%9D%91/image-20220218153401407.png" alt="/.io路径出错"></p><h2 id="typora设置"><a href="#typora设置" class="headerlink" title="typora设置"></a>typora设置</h2><p><img src="/2022/02/18/%E7%94%A8typora%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E7%9A%84%E5%9D%91/image-20220218154832160.png" alt="typera设置"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 遇到的坑 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
